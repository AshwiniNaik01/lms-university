
//   const formik = useFormik({
//     // initialValues: {
//     //   fullName: "",
//     //   email: "",
//     //   mobileNo: "",
//     //   dob: "",
//     //   gender: "",
//     //   address: {
//     //     add1: "",
//     //     add2: "",
//     //     taluka: "",
//     //     dist: "",
//     //     state: "",
//     //     pincode: ""
//     //   },
//     //   highestQualification: "",
//     //   branches: "",
//     //   collegeName: "",
//     //   totalExperience: "",
//     //   courses: [],
//     //   password: "",
//     //   availableTiming: "",
//     //   linkedinProfile: "",
//     //   resume: null,
//     //   idProofTrainer: null,
//     //   profilePhotoTrainer: null,
//     // },
// initialValues: {
//   fullName: "",
//   email: "",
//   mobileNo: "",
//   dob: "",
//   gender: "",
//   title: "",
//   summary: "",
//   certifications: [],
//   achievements: [],
//   highestQualification: "",
//   collegeName: "",
//   totalExperience: "",
//   courses: [],
//   password: "",
//   availableTiming: "",
//   customBatchDays: [],
//   linkedinProfile: "",
//   resume: null,
//   idProofTrainer: null,
//   profilePhotoTrainer: null,
//   address: {
//     add1: "",
//     add2: "",
//     taluka: "",
//     dist: "",
//     state: "",
//     pincode: ""
//   },
// },

    
//   validationSchema: Yup.object({
//   // fullName: Yup.string().required("Full name is required"),
//   // email: Yup.string().email("Invalid email").required("Email is required"),
//   // mobileNo: Yup.string().required("Mobile number is required"),
//   // dob: Yup.date().required("Date of birth is required"),
//   // gender: Yup.string().required("Gender is required"),
//   // title: Yup.string().required("Title is required"),
//   // summary: Yup.string().required("Trainer summary is required"),
//   // highestQualification: Yup.string().required("Qualification is required"),
//   // collegeName: Yup.string().required("College name is required"),
//   // totalExperience: Yup.number().required("Experience is required"),
//   // courses: Yup.array().min(1, "Select at least one course"),
//   // password: Yup.string().min(6).required("Password is required"),
//   // availableTiming: Yup.string().required("Select availability"),
//   // linkedinProfile: Yup.string().url("Invalid URL").nullable(),
//   // resume: Yup.mixed().required("Resume is required"),
//   // idProofTrainer: Yup.mixed().nullable(),
//   // profilePhotoTrainer: Yup.mixed().nullable(),

//   // address: Yup.object({
//   //   add1: Yup.string().required("Address Line 1 is required"),
//   //   add2: Yup.string(),
//   //   taluka: Yup.string().required("Taluka is required"),
//   //   dist: Yup.string().required("District is required"),
//   //   state: Yup.string().required("State is required"),
//   //   pincode: Yup.string().required("Pincode is required"),
//   // }),
// }),

//     // onSubmit: async (values) => {
//     //   const formData = new FormData();
//     //   Object.entries(values).forEach(([key, value]) => {
//     //     if (key === "address") {
//     //       formData.append("address", JSON.stringify(value));
//     //     } else if (
//     //       key === "resume" ||
//     //       key === "idProofTrainer" ||
//     //       key === "profilePhotoTrainer"
//     //     ) {
//     //       if (value) formData.append(key, value);
//     //     } else {
//     //       formData.append(key, value);
//     //     }
//     //   });

//     //   try {
//     //     const res = await axios.post(`${BASE_URL}/api/trainer/register`, formData);
//     //     if (res.data.success) {
//     //       alert("Trainer registered successfully");
//     //       formik.resetForm();
//     //     }
//     //   } catch (err) {
//     //     console.error("Registration failed", err);
//     //   }
//     // },

//     //  onSubmit: async (values) => {
//     //   const formData = new FormData();
//     //   Object.entries(values).forEach(([key, value]) => {
//     //     if (key === "address") {
//     //       formData.append("address", JSON.stringify(value));
//     //     } else if (key === "subjectExperience" || key === "enrolledCourses") {
//     //       formData.append(key, JSON.stringify(value));
//     //     } else {
//     //       formData.append(key, value);
//     //     }
//     //   });

//     //   try {
//     //     const response = await fetch(`${process.env.REACT_APP_BASE_URL}/api/trainer/register`, {
//     //       method: "POST",
//     //       body: formData,
//     //     });

//     //     const result = await response.json();
//     //     if (result.success) {
//     //       alert("Trainer registered successfully!");
//     //     } else {
//     //       alert(result.message || "Something went wrong.");
//     //     }
//     //   } catch (err) {
//     //     console.error(err);
//     //     alert("Error submitting the form");
//     //   }
//     // },

// //     onSubmit: async (values) => {
// //   // ‚úÖ Replace 'custom' with joined days if selected
// //   const availableTiming =
// //     values.availableTiming === "custom"
// //       ? (values.customBatchDays || []).join("-")
// //       : values.availableTiming;

// //   const finalValues = {
// //     ...values,
// //     availableTiming, // ‚úÖ updated string value
// //   };

// //   // ‚ùå Remove helper field before sending
// //   delete finalValues.customBatchDays;

// //   // Optional warning
// //   if (finalValues.availableTiming === "custom") {
// //     console.warn("Custom availableTiming not replaced properly!");
// //   }

// //   // ‚úÖ Create FormData
// //   const formData = new FormData();
// //   Object.entries(finalValues).forEach(([key, value]) => {
// //     if (key === "address") {
// //       formData.append("address", JSON.stringify(value));
// //     } else if (
// //       key === "courses" 
// //       // ||
// //       // key === "enrolledCourses"
// //     ) {
// //       formData.append(key, JSON.stringify(value));
// //     } else {
// //       formData.append(key, value);
// //     }
// //   });

// //   try {
// //     // const response = await apiClient(
// //     //   `/api/trainer/register`,
// //     //   {
// //     //     method: "POST",
// //     //     body: formData,
// //     //   }
// //     // );

// //    const response= await axios.post(`${BASE_URL}/api/trainer/register`, formData, {
// //   headers: {
// //     "Content-Type": "multipart/form-data"
// //   }
// // });


// //     const result = await response.json();
// //     if (result.success) {
// //       alert("Trainer registered successfully!");
// //     } else {
// //       alert(result.message || "Please Try Again!.");
// //     }
// //   } catch (err) {
// //     console.error(err);
// //     alert("Error submitting the form");
// //   }
// // }

// onSubmit: async (values, { resetForm, setSubmitting }) => {
//   const formData = new FormData();
//   const finalValues = { ...values };

//   // Convert custom days to string
//   if (finalValues.availableTiming === "custom") {
//     finalValues.availableTiming = (finalValues.customBatchDays || []).join("-");
//   }
//   delete finalValues.customBatchDays;

//   // Append all form values
//   for (let key in finalValues) {
//     const value = finalValues[key];

//     if (key === "address" && typeof value === "object" && value !== null) {
//       Object.entries(value).forEach(([k, v]) => {
//         formData.append(`address[${k}]`, v);
//       });
//     } else if (Array.isArray(value)) {
//       value.forEach((item) => formData.append(`${key}[]`, item));
//     } else if (value instanceof File) {
//       formData.append(key, value);
//     } else if (value !== undefined && value !== null) {
//       formData.append(key, value);
//     }
//   }

//   try {
//     const res = await axios.post(`${BASE_URL}/api/trainer/register`, formData, {
//       headers: {
//         "Content-Type": "multipart/form-data",
//       },
//     });

//     if (res.data.success) {
//       alert("Trainer registered successfully!");
//       resetForm();
//     } else {
//       alert(res.data.message || "Please try again.");
//     }
//   } catch (err) {
//     console.error("‚ùå Error submitting form", err);
//     alert("Error submitting the form");
//   } finally {
//     setSubmitting(false);
//   }
// }


//   });

  

  // return (
  //   <form onSubmit={formik.handleSubmit} className="space-y-4">
  //     <InputField label="Full Name" name="fullName" formik={formik} />
  //     <InputField label="Email" name="email" formik={formik} />
  //     <InputField label="Mobile No" name="mobileNo" formik={formik} />
  //     <InputField label="Date of Birth" name="dob" type="date" formik={formik} />
  //     <InputField label="Gender" name="gender" formik={formik} />

  //     {/* Address Fields */}
  //     <InputField label="Address Line 1" name="address.add1" formik={formik} />
  //     <InputField label="Address Line 2" name="address.add2" formik={formik} />
  //     <InputField label="Taluka" name="address.taluka" formik={formik} />
  //     <InputField label="District" name="address.dist" formik={formik} />
  //     <InputField label="State" name="address.state" formik={formik} />
  //     <InputField label="Pincode" name="address.pincode" formik={formik} />

  //     <InputField label="Highest Qualification" name="highestQualification" formik={formik} />
  //     <InputField label="Specializations" name="specializations" formik={formik} />
  //     <InputField label="College Name" name="collegeName" formik={formik} />
  //     <InputField label="Total Experience" name="totalExperience" formik={formik} />
  //     <InputField label="Subject Experience" name="subjectExperience" formik={formik} />
  //     <InputField label="Password" name="password" type="password" formik={formik} />
  //     <InputField label="Available Timing" name="availableTiming" formik={formik} />
  //     <InputField label="LinkedIn Profile" name="linkedinProfile" formik={formik} />

  //     {/* File Inputs */}
  //     <div>
  //       <label>Resume</label>
  //       <input
  //         type="file"
  //         name="resume"
  //         onChange={(e) => formik.setFieldValue("resume", e.currentTarget.files[0])}
  //       />
  //     </div>
  //     <div>
  //       <label>ID Proof</label>
  //       <input
  //         type="file"
  //         name="idProofTrainer"
  //         onChange={(e) => formik.setFieldValue("idProofTrainer", e.currentTarget.files[0])}
  //       />
  //     </div>
  //     <div>
  //       <label>Profile Photo</label>
  //       <input
  //         type="file"
  //         name="profilePhotoTrainer"
  //         onChange={(e) => formik.setFieldValue("profilePhotoTrainer", e.currentTarget.files[0])}
  //       />
  //     </div>

  //     <button type="submit">Register Trainer</button>
  //   </form>
  // ); 

//   trainer registration form 


// import { useState, useEffect, useRef } from "react";
// import { useLocation, useParams, useNavigate } from "react-router-dom";
// import {
//   FaPlay,
//   FaPause,
//   FaVolumeUp,
//   FaVolumeMute,
//   FaExpand,
//   FaCompress,
//   FaStepBackward,
//   FaStepForward,
//   FaArrowLeft,
//   FaBook,
//   FaClock,
//   FaDownload,
//   FaHeart,
//   FaRegHeart,
//   FaShare,
//   FaList,
//   FaCog,
//   FaCheck,
// } from "react-icons/fa";
// import { DIR } from "../../utils/constants";
// import { useDispatch, useSelector } from "react-redux";
// import { setSelectedVideo } from "../../features/videoSlice";

// const VideoPlayerPage = () => {
//   const location = useLocation();
//   const dispatch = useDispatch();
//   const navigate = useNavigate();
//   const { courseId, videoId } = useParams();
//   const videoRef = useRef(null);

//   const { selectedVideo, courseTitle, chapterTitle, allLectures } = useSelector(
//     (state) => state.videos
//   );

//   // // Get data passed via navigate state
//   // const { video, courseTitle, chapterTitle, courseVideos = [] } = location.state || {};

//   const [isPlaying, setIsPlaying] = useState(false);
//   const [currentTime, setCurrentTime] = useState(0);
//   const [duration, setDuration] = useState(0);
//   const [volume, setVolume] = useState(1);
//   const [isMuted, setIsMuted] = useState(false);
//   const [isFullscreen, setIsFullscreen] = useState(false);
//   const [playbackRate, setPlaybackRate] = useState(1);
//   const [showControls, setShowControls] = useState(true);
//   const [isLiked, setIsLiked] = useState(false);
//   const [showPlaylist, setShowPlaylist] = useState(false);
//   const [buffered, setBuffered] = useState(0);

//   // Simulate related videos
//   // const relatedVideos = courseVideos.length > 0 ? courseVideos : [
//   //   { _id: '1', title: 'Introduction to React', duration: '15:30', completed: true },
//   //   { _id: '2', title: 'Components and Props', duration: '22:45', completed: false },
//   //   { _id: '3', title: 'State and Lifecycle', duration: '18:20', completed: false },
//   //   { _id: '4', title: 'Hooks Deep Dive', duration: '25:10', completed: false },
//   // ];

//   useEffect(() => {
//     if (!selectedVideo) {
//       console.warn("No selected video in Redux. Optionally fetch from API.");
//       // Optional: fetch lecture list and match videoId
//     }
//   }, [selectedVideo]);

//   //   useEffect(() => {
//   //   if (!selectedVideo && allLectures.length > 0) {
//   //     const fallbackVideo = allLectures.find(v => v._id === videoId);
//   //     if (fallbackVideo) {
//   //       dispatch(setSelectedVideo(fallbackVideo));
//   //     }
//   //   }
//   // }, [selectedVideo, allLectures]);

//   useEffect(() => {
//     if (videoId && allLectures.length > 0) {
//       const newVideo = allLectures.find((v) => v._id === videoId);
//       if (newVideo && newVideo._id !== selectedVideo?._id) {
//         // Reset player state
//         if (videoRef.current) {
//           videoRef.current.pause();
//           videoRef.current.currentTime = 0;
//         }
//         setCurrentTime(0);
//         setIsPlaying(false);

//         // Update Redux
//         dispatch(setSelectedVideo(newVideo));
//       }
//     }
//   }, [videoId, allLectures]);

//   const video = selectedVideo;
//   const relatedVideos = allLectures;
//   // const relatedVideos = Array.isArray(courseVideos) && courseVideos.length > 0 ? courseVideos : [];

//   useEffect(() => {
//     if (!video) {
//       console.warn(
//         "No video data found in state. Fetching from API might be needed."
//       );
//     }
//   }, [video]);

//   useEffect(() => {
//     const videoElement = videoRef.current;
//     if (!videoElement) return;

//     const updateTime = () => setCurrentTime(videoElement.currentTime);
//     const updateDuration = () => setDuration(videoElement.duration);
//     const updateBuffered = () => {
//       if (videoElement.buffered.length > 0) {
//         setBuffered(videoElement.buffered.end(0));
//       }
//     };

//     videoElement.addEventListener("timeupdate", updateTime);
//     videoElement.addEventListener("loadedmetadata", updateDuration);
//     videoElement.addEventListener("progress", updateBuffered);
//     videoElement.addEventListener("ended", () => setIsPlaying(false));

//     return () => {
//       videoElement.removeEventListener("timeupdate", updateTime);
//       videoElement.removeEventListener("loadedmetadata", updateDuration);
//       videoElement.removeEventListener("progress", updateBuffered);
//       videoElement.removeEventListener("ended", () => setIsPlaying(false));
//     };
//   }, []);

//   const togglePlay = () => {
//     if (videoRef.current) {
//       if (isPlaying) {
//         videoRef.current.pause();
//       } else {
//         videoRef.current.play();
//       }
//       setIsPlaying(!isPlaying);
//     }
//   };

//   const handleSeek = (e) => {
//     const seekTime =
//       (e.nativeEvent.offsetX / e.currentTarget.offsetWidth) * duration;
//     if (videoRef.current) {
//       videoRef.current.currentTime = seekTime;
//       setCurrentTime(seekTime);
//     }
//   };

//   const handleVolumeChange = (e) => {
//     const newVolume = parseFloat(e.target.value);
//     setVolume(newVolume);
//     if (videoRef.current) {
//       videoRef.current.volume = newVolume;
//       setIsMuted(newVolume === 0);
//     }
//   };

//   const toggleMute = () => {
//     if (videoRef.current) {
//       videoRef.current.muted = !isMuted;
//       setIsMuted(!isMuted);
//     }
//   };

//   const toggleFullscreen = () => {
//     if (!document.fullscreenElement) {
//       videoRef.current.requestFullscreen().catch((err) => {
//         console.log(`Error attempting to enable fullscreen: ${err.message}`);
//       });
//       setIsFullscreen(true);
//     } else {
//       document.exitFullscreen();
//       setIsFullscreen(false);
//     }
//   };

//   const formatTime = (seconds) => {
//     const mins = Math.floor(seconds / 60);
//     const secs = Math.floor(seconds % 60);
//     return `${mins}:${secs < 10 ? "0" : ""}${secs}`;
//   };

//   const handlePlaybackRateChange = (rate) => {
//     setPlaybackRate(rate);
//     if (videoRef.current) {
//       videoRef.current.playbackRate = rate;
//     }
//   };

//   const skip = (seconds) => {
//     if (videoRef.current) {
//       videoRef.current.currentTime += seconds;
//     }
//   };

//   console.log(
//     "Video URL:",
//     `${DIR.LECTURE_CONTENT}${selectedVideo.contentUrl}`
//   );
//   console.log("selectedVideo:", selectedVideo);

//   if (!video) {
//     return (
//       <div className="min-h-screen bg-gradient-to-br from-gray-900 to-black flex items-center justify-center">
//         <div className="text-center text-white">
//           <div className="animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-500 mx-auto mb-4"></div>
//           <p className="text-xl">Loading video content...</p>
//         </div>
//       </div>
//     );
//   }

//   return (
//     <div className="min-h-screen bg-gradient-to-br from-gray-900 to-black text-white">
//       {/* Header */}
//       <header className="bg-black/80 backdrop-blur-lg border-b border-gray-800 sticky top-0 z-50">
//         <div className="max-w-7xl mx-auto px-4 py-3">
//           <div className="flex items-center justify-between">
//             <div className="flex items-center gap-4">
//               <button
//                 onClick={() => navigate(-1)}
//                 className="flex items-center gap-2 text-gray-300 hover:text-white transition-colors p-2 rounded-lg hover:bg-gray-800"
//               >
//                 <FaArrowLeft className="w-5 h-5" />
//                 <span className="hidden sm:block">Back to Course</span>
//               </button>
//               <div className="h-6 w-px bg-gray-700"></div>
//               <div>
//                 <h1 className="text-lg font-semibold line-clamp-1">
//                   {courseTitle}
//                 </h1>
//                 <p className="text-sm text-gray-400">{chapterTitle}</p>
//               </div>
//             </div>

//             <div className="flex items-center gap-3">
//               <button
//                 onClick={() => setIsLiked(!isLiked)}
//                 className="p-2 text-gray-400 hover:text-red-500 transition-colors"
//               >
//                 {isLiked ? (
//                   <FaHeart className="w-5 h-5 text-red-500" />
//                 ) : (
//                   <FaRegHeart className="w-5 h-5" />
//                 )}
//               </button>
//               <button className="p-2 text-gray-400 hover:text-white transition-colors">
//                 <FaShare className="w-5 h-5" />
//               </button>
//               <button className="p-2 text-gray-400 hover:text-white transition-colors">
//                 <FaDownload className="w-5 h-5" />
//               </button>
//             </div>
//           </div>
//         </div>
//       </header>

//       <div className="max-w-7xl mx-auto px-4 py-6">
//         <div className="grid lg:grid-cols-4 gap-6">
//           {/* Main Video Player */}
//           <div className="lg:col-span-3">
//             <div
//               className="relative bg-black rounded-2xl overflow-hidden shadow-2xl group"
//               onMouseEnter={() => setShowControls(true)}
//               onMouseLeave={() => setShowControls(false)}
//             >
//               {/* Video Element */}
//               {selectedVideo?.contentUrl ? (
//                 <video
//                   ref={videoRef}
//                   className="w-full aspect-video"
//                   // src="https://www.w3schools.com/html/mov_bbb.mp4"

//                   src={`${DIR.LECTURE_CONTENT}${selectedVideo.contentUrl}`}
//                   onClick={togglePlay}
//                   controls
//                 />
//               ) : (
//                 <div className="text-red-500 p-4">
//                   Video source not available
//                 </div>
//               )}

//               {/* <video
//                 ref={videoRef}
//                 className="w-full aspect-video"
//                 src={`${DIR.LECTURE_CONTENT}${selectedVideo.contentUrl}`}
//                 onClick={togglePlay}
//                 controls
//               >
//                 Your browser does not support the video tag.
//               </video> */}

//               {/* Custom Controls */}
//               {showControls && (
//                 <div className="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 to-transparent p-4 transition-opacity duration-300">
//                   {/* Progress Bar */}
//                   <div
//                     className="w-full bg-gray-700 h-2 rounded-full mb-4 cursor-pointer relative"
//                     onClick={handleSeek}
//                   >
//                     <div
//                       className="absolute top-0 left-0 bg-gray-400 h-2 rounded-full"
//                       style={{ width: `${(buffered / duration) * 100}%` }}
//                     ></div>
//                     <div
//                       className="absolute top-0 left-0 bg-blue-500 h-2 rounded-full transition-all duration-100"
//                       style={{ width: `${(currentTime / duration) * 100}%` }}
//                     ></div>
//                     <div
//                       className="absolute w-4 h-4 bg-blue-500 rounded-full -top-1 transform -translate-x-2 shadow-lg"
//                       style={{ left: `${(currentTime / duration) * 100}%` }}
//                     ></div>
//                   </div>

//                   {/* Control Buttons */}
//                   <div className="flex items-center justify-between">
//                     <div className="flex items-center gap-4">
//                       <button
//                         onClick={togglePlay}
//                         className="p-2 bg-white/20 rounded-full hover:bg-white/30 transition-colors"
//                       >
//                         {isPlaying ? (
//                           <FaPause className="w-4 h-4" />
//                         ) : (
//                           <FaPlay className="w-4 h-4" />
//                         )}
//                       </button>

//                       <button
//                         onClick={() => skip(-10)}
//                         className="p-2 text-gray-300 hover:text-white transition-colors"
//                       >
//                         <FaStepBackward className="w-4 h-4" />
//                       </button>

//                       <button
//                         onClick={() => skip(10)}
//                         className="p-2 text-gray-300 hover:text-white transition-colors"
//                       >
//                         <FaStepForward className="w-4 h-4" />
//                       </button>

//                       <div className="flex items-center gap-2">
//                         <button
//                           onClick={toggleMute}
//                           className="p-2 text-gray-300 hover:text-white transition-colors"
//                         >
//                           {isMuted ? (
//                             <FaVolumeMute className="w-4 h-4" />
//                           ) : (
//                             <FaVolumeUp className="w-4 h-4" />
//                           )}
//                         </button>
//                         <input
//                           type="range"
//                           min="0"
//                           max="1"
//                           step="0.1"
//                           value={volume}
//                           onChange={handleVolumeChange}
//                           className="w-20 accent-blue-500"
//                         />
//                       </div>

//                       <div className="text-sm text-gray-300">
//                         {formatTime(currentTime)} / {formatTime(duration)}
//                       </div>
//                     </div>

//                     <div className="flex items-center gap-3">
//                       {/* Playback Speed */}
//                       <div className="relative group/speed">
//                         <button className="px-3 py-1 bg-white/20 rounded-lg text-sm hover:bg-white/30 transition-colors">
//                           {playbackRate}x
//                         </button>
//                         <div className="absolute bottom-full right-0 mb-2 bg-gray-800 rounded-lg p-2 shadow-xl opacity-0 invisible group-hover/speed:opacity-100 group-hover/speed:visible transition-all duration-200">
//                           {[0.5, 0.75, 1, 1.25, 1.5, 2].map((rate) => (
//                             <button
//                               key={rate}
//                               onClick={() => handlePlaybackRateChange(rate)}
//                               className={`block w-full px-3 py-1 text-sm rounded hover:bg-gray-700 ${
//                                 playbackRate === rate
//                                   ? "text-blue-400"
//                                   : "text-gray-300"
//                               }`}
//                             >
//                               {rate}x
//                             </button>
//                           ))}
//                         </div>
//                       </div>

//                       <button
//                         onClick={toggleFullscreen}
//                         className="p-2 text-gray-300 hover:text-white transition-colors"
//                       >
//                         {isFullscreen ? (
//                           <FaCompress className="w-4 h-4" />
//                         ) : (
//                           <FaExpand className="w-4 h-4" />
//                         )}
//                       </button>
//                     </div>
//                   </div>
//                 </div>
//               )}

//               {/* Play/Pause Overlay */}
//               {!isPlaying && (
//                 <div className="absolute inset-0 flex items-center justify-center bg-black/40">
//                   <button
//                     onClick={togglePlay}
//                     className="p-6 bg-white/20 rounded-full hover:bg-white/30 transition-all duration-300 transform hover:scale-110"
//                   >
//                     <FaPlay className="w-12 h-12 text-white" />
//                   </button>
//                 </div>
//               )}
//             </div>

//             {/* Video Info */}
//             <div className="mt-6 bg-gray-800/50 rounded-2xl p-6 backdrop-blur-sm">
//               <h1 className="text-3xl font-bold mb-4">{video.title}</h1>
//               <p className="text-gray-300 text-lg leading-relaxed mb-6">
//                 {video.description}
//               </p>

//               <div className="flex flex-wrap gap-4 text-sm text-gray-400">
//                 <div className="flex items-center gap-2 bg-gray-700/50 px-3 py-2 rounded-lg">
//                   <FaBook className="w-4 h-4" />
//                   <span>{chapterTitle}</span>
//                 </div>
//                 <div className="flex items-center gap-2 bg-gray-700/50 px-3 py-2 rounded-lg">
//                   <FaClock className="w-4 h-4" />
//                   <span>Duration: {video.duration}</span>
//                 </div>
//               </div>
//             </div>
//           </div>

//           {/* Playlist Sidebar */}
//           <div className="lg:col-span-1">
//             <div className="bg-gray-800/50 rounded-2xl p-6 backdrop-blur-sm sticky top-24">
//               <div className="flex items-center justify-between mb-6">
//                 <h2 className="text-xl font-bold flex items-center gap-2">
//                   <FaList className="w-5 h-5 text-blue-400" />
//                   Course Videos
//                 </h2>
//                 <span className="text-sm text-gray-400 bg-gray-700 px-2 py-1 rounded">
//                   {relatedVideos.length} videos
//                 </span>
//               </div>

//               <div className="space-y-3 max-h-96 overflow-y-auto">
//                 {relatedVideos.map((relatedVideo, index) => (
//                   <div
//                     key={relatedVideo._id}
//                     className={`p-4 rounded-xl cursor-pointer transition-all duration-200 group ${
//                       video._id === relatedVideo._id
//                         ? "bg-blue-500/20 border border-blue-500/50"
//                         : "bg-gray-700/30 hover:bg-gray-700/50"
//                     }`}
//                     onClick={() => {
//                       // Navigate to this video
//                       navigate(
//                         `/course/${courseId}/video/${relatedVideo._id}`,
//                         {
//                           state: {
//                             video: relatedVideo,
//                             courseTitle,
//                             chapterTitle,
//                             courseVideos: relatedVideos,
//                           },
//                         }
//                       );
//                     }}
//                   >
//                     <div className="flex items-start gap-3">
//                       <div
//                         className={`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 ${
//                           video._id === relatedVideo._id
//                             ? "bg-blue-500 text-white"
//                             : relatedVideo.completed
//                             ? "bg-green-500 text-white"
//                             : "bg-gray-600 text-gray-300"
//                         }`}
//                       >
//                         {video._id === relatedVideo._id ? (
//                           <FaPlay className="w-4 h-4" />
//                         ) : relatedVideo.completed ? (
//                           <FaCheck className="w-4 h-4" />
//                         ) : (
//                           <span className="text-sm font-medium">
//                             {index + 1}
//                           </span>
//                         )}
//                       </div>

//                       <div className="flex-1 min-w-0">
//                         <h3
//                           className={`font-medium line-clamp-2 ${
//                             video._id === relatedVideo._id
//                               ? "text-blue-300"
//                               : "text-gray-200"
//                           }`}
//                         >
//                           {relatedVideo.title}
//                         </h3>
//                         <div className="flex items-center gap-2 mt-1 text-xs text-gray-400">
//                           <FaClock className="w-3 h-3" />
//                           <span>{relatedVideo.duration}</span>
//                           {relatedVideo.completed && (
//                             <span className="text-green-400">‚Ä¢ Completed</span>
//                           )}
//                         </div>
//                       </div>
//                     </div>
//                   </div>
//                 ))}
//               </div>

         
//             </div>
//           </div>
//         </div>
//       </div>
//     </div>
//   );
// };

// export default VideoPlayerPage;

//  this is the video player page 


// import { useState, useEffect } from "react";
// import { useParams, Link } from "react-router-dom";
// import { fetchCourseById } from "../../api/courses";
// import {
//   FaBook,
//   FaArrowLeft,
//   FaFileAlt,
//   FaTasks,
//   FaCheckCircle,
//   FaVideo,
//   FaListAlt,
// } from "react-icons/fa";
// import OverviewTab from "../../components/student-course/OverviewTab";
// import CurriculumTab from "../../components/student-course/CurriculumTab";
// import NotesTab from "../../components/student-course/NotesTab";
// import VideosTab from "../../components/student-course/VideosTab";
// import AssignmentsTab from "../../components/student-course/AssignmentsTab";
// import OutcomesTab from "../../components/student-course/OutcomesTab";

// const StudyCoursePage = () => {
//   const { courseId } = useParams();
//   const [course, setCourse] = useState(null);
//   const [loading, setLoading] = useState(true);
//   const [error, setError] = useState("");
//   const [activeTab, setActiveTab] = useState("overview");
//   const [expandedWeeks, setExpandedWeeks] = useState({});

//   useEffect(() => {
//     if (!courseId) return;

//     const loadCourseDetails = async () => {
//       try {
//         const courseData = await fetchCourseById(courseId);
//         setCourse(courseData);
//         setError("");
//       } catch (error) {
//         setError(error.message || "Failed to load course content.");
//         setCourse(null);
//       } finally {
//         setLoading(false);
//       }
//     };

//     loadCourseDetails();
//   }, [courseId]);

//   const toggleWeek = (phaseIndex, weekIndex) => {
//     const key = `${phaseIndex}-${weekIndex}`;
//     setExpandedWeeks((prev) => ({
//       ...prev,
//       [key]: !prev[key],
//     }));
//   };

//   // Tab components
//   const TabButton = ({ name, icon, isActive, count }) => (
//     <button
//       onClick={() => setActiveTab(name.toLowerCase())}
//       className={`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 ${
//         isActive
//           ? "bg-blue-600 text-white shadow-md"
//           : "text-gray-700 hover:bg-gray-100 border border-gray-200"
//       }`}
//     >
//       {icon}
//       <span className="font-medium flex-1 text-left">{name}</span>
//       {count > 0 && (
//         <span
//           className={`px-2 py-1 rounded-full text-xs ${
//             isActive ? "bg-white text-blue-600" : "bg-blue-100 text-blue-600"
//           }`}
//         >
//           {count}
//         </span>
//       )}
//     </button>
//   );

//   if (loading) {
//     return (
//       <div className="min-h-screen bg-gray-50 flex items-center justify-center">
//         <div className="text-center">
//           <div className="animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-600 mx-auto"></div>
//           <p className="mt-4 text-lg font-medium text-gray-600">
//             Loading course content...
//           </p>
//         </div>
//       </div>
//     );
//   }

//   if (error || !course) {
//     return (
//       <div className="min-h-screen bg-gray-50 flex items-center justify-center">
//         <div className="text-center p-6 bg-white rounded-xl shadow-md max-w-md">
//           <div className="w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center mx-auto mb-4">
//             <FaBook className="w-8 h-8" />
//           </div>
//           <h2 className="text-xl font-bold text-gray-800 mb-2">
//             {error ? "Error Loading Course" : "Course Not Found"}
//           </h2>
//           <p className="text-gray-600 mb-4">
//             {error || "The requested course could not be found."}
//           </p>
//           <Link
//             to="/my-courses"
//             className="inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"
//           >
//             <FaArrowLeft className="w-4 h-4" />
//             Back to My Courses
//           </Link>
//         </div>
//       </div>
//     );
//   }

//   // return (
//   //   <div className="min-h-screen bg-gray-50">
//   //     {/* Header */}
//   //     <div className="bg-white shadow-sm border-b">
//   //       <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
//   //         <div className="flex items-center justify-between">
//   //           <div className="flex items-center gap-4">
//   //             <Link
//   //               to="/my-courses"
//   //               className="inline-flex items-center gap-2 text-blue-600 hover:text-blue-800 font-medium"
//   //             >
//   //               <FaArrowLeft className="w-4 h-4" />
//   //               Back to Courses
//   //             </Link>
//   //             <div className="h-6 w-px bg-gray-300"></div>
//   //             <h1 className="text-2xl font-bold text-gray-900 flex items-center gap-2">
//   //               <FaBook className="text-blue-600" />
//   //               {course.title}
//   //             </h1>
//   //           </div>

//   //           <div className="flex items-center gap-4 text-sm text-gray-600">
//   //             <span>üéØ {course.enrolledCount} Enrolled</span>
//   //             <span>‚≠ê {course.rating}</span>
//   //             <span>‚è±Ô∏è {course.duration}</span>
//   //           </div>
//   //         </div>
//   //       </div>
//   //     </div>

//   //     <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
//   //       <div className="flex flex-col lg:flex-row gap-6">
//   //         {/* Sidebar Navigation */}
//   //         <div className="lg:w-64 flex-shrink-0">
//   //           <div className="bg-white rounded-lg shadow-sm border p-4 sticky top-6">
//   //             <nav className="space-y-2">
//   //               <TabButton
//   //                 name="Overview"
//   //                 icon={<FaListAlt className="w-4 h-4" />}
//   //                 isActive={activeTab === "overview"}
//   //                 count={0}
//   //               />
//   //               <TabButton
//   //                 name="Curriculum"
//   //                 icon={<FaBook className="w-4 h-4" />}
//   //                 isActive={activeTab === "curriculum"}
//   //                 count={
//   //                   course.phases?.reduce(
//   //                     (total, phase) => total + phase.weeks.length,
//   //                     0
//   //                   ) || 0
//   //                 }
//   //               />
//   //               <TabButton
//   //                 name="Notes"
//   //                 icon={<FaFileAlt className="w-4 h-4" />}
//   //                 isActive={activeTab === "notes"}
//   //                 count={course.notes?.length || 0}
//   //               />
//   //               <TabButton
//   //                 name="Videos"
//   //                 icon={<FaVideo className="w-4 h-4" />}
//   //                 isActive={activeTab === "videos"}
//   //                 count={course.lectures?.length || 0}
//   //               />
//   //               <TabButton
//   //                 name="Assignments"
//   //                 icon={<FaTasks className="w-4 h-4" />}
//   //                 isActive={activeTab === "assignments"}
//   //                 count={
//   //                   course.phases?.reduce(
//   //                     (total, phase) =>
//   //                       total +
//   //                       phase.weeks.reduce(
//   //                         (weekTotal, week) =>
//   //                           weekTotal +
//   //                           week.chapters.reduce(
//   //                             (chapterTotal, chapter) =>
//   //                               chapterTotal +
//   //                               (chapter.assignments?.length || 0),
//   //                             0
//   //                           ),
//   //                         0
//   //                       ),
//   //                     0
//   //                   ) || 0
//   //                 }
//   //               />
//   //               <TabButton
//   //                 name="Outcomes"
//   //                 icon={<FaCheckCircle className="w-4 h-4" />}
//   //                 isActive={activeTab === "outcomes"}
//   //                 count={course.learningOutcomes?.length || 0}
//   //               />
//   //             </nav>

//   //             {/* Progress Section */}
//   //             <div className="mt-6 pt-4 border-t">
//   //               <div className="text-sm text-gray-600 mb-2">Your Progress</div>
//   //               <div className="w-full bg-gray-200 rounded-full h-2">
//   //                 <div
//   //                   className="bg-green-600 h-2 rounded-full"
//   //                   style={{ width: "0%" }}
//   //                 ></div>
//   //               </div>
//   //               <div className="text-xs text-gray-500 mt-1">0% Complete</div>
//   //             </div>
//   //           </div>
//   //         </div>

//   //         {/* Main Content */}
//   //         <div className="flex-1">
//   //           {/* Overview Tab */}
//   //           {activeTab === "overview" && (
//   //             <OverviewTab course={course} setActiveTab={setActiveTab} />
//   //           )}

//   //           {/* Curriculum Tab */}
//   //           {activeTab === "curriculum" && (
//   //             <CurriculumTab
//   //               course={course}
//   //               expandedWeeks={expandedWeeks}
//   //               toggleWeek={toggleWeek}
//   //             />
//   //           )}

//   //           {/* Notes Tab */}
//   //           {activeTab === "notes" && <NotesTab course={course} />}

//   //           {/* Videos Tab */}
//   //           {activeTab === "videos" && <VideosTab course={course} />}

//   //           {/* Assignments Tab */}
//   //           {activeTab === "assignments" && <AssignmentsTab course={course} />}

//   //           {/* Outcomes Tab */}
//   //           {activeTab === "outcomes" && <OutcomesTab course={course} />}
//   //         </div>
//   //       </div>
//   //     </div>
//   //   </div>
//   // );

// return (
//   <div className="min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50">
//     {/* Sticky Header */}
//     <header className="sticky top-0 z-50 bg-white/90 backdrop-blur shadow-sm border-b">
//       <div className="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
//         <div className="flex items-center gap-4">
//           <Link
//             to="/my-courses"
//             className="text-indigo-600 hover:text-indigo-800 text-sm font-medium flex items-center gap-2 transition"
//           >
//             <FaArrowLeft className="w-4 h-4" />
//             Back to Courses
//           </Link>
//           <div className="hidden sm:block h-6 w-px bg-gray-300"></div>
//           <h1 className="text-2xl font-bold text-gray-800 flex items-center gap-2">
//             <FaBook className="text-indigo-600" />
//             {course.title}
//           </h1>
//         </div>

//         <div className="flex items-center gap-6 text-sm text-gray-600 font-medium">
//           <span>üéØ {course.enrolledCount} Enrolled</span>
//           <span>‚≠ê {course.rating}</span>
//           <span>‚è±Ô∏è {course.duration}</span>
//         </div>
//       </div>
//     </header>

//     {/* Body */}
//     <div className="max-w-7xl mx-auto px-6 py-8 flex flex-col lg:flex-row gap-8">
//       {/* Sidebar Navigation */}
//       <aside className="lg:w-64 flex-shrink-0">
//         <div className="bg-white rounded-2xl shadow-lg border p-6 sticky top-24 space-y-6">
//           {/* Navigation */}
//           <nav className="space-y-2">
//             {[
//               { name: "Overview", icon: <FaListAlt />, key: "overview", count: 0 },
//               {
//                 name: "Curriculum",
//                 icon: <FaBook />,
//                 key: "curriculum",
//                 count:
//                   course.phases?.reduce(
//                     (total, phase) => total + phase.weeks.length,
//                     0
//                   ) || 0,
//               },
//               {
//                 name: "Notes",
//                 icon: <FaFileAlt />,
//                 key: "notes",
//                 count: course.notes?.length || 0,
//               },
//               {
//                 name: "Videos",
//                 icon: <FaVideo />,
//                 key: "videos",
//                 count: course.lectures?.length || 0,
//               },
//               {
//                 name: "Assignments",
//                 icon: <FaTasks />,
//                 key: "assignments",
//                 count:
//                   course.phases?.reduce(
//                     (total, phase) =>
//                       total +
//                       phase.weeks.reduce(
//                         (weekTotal, week) =>
//                           weekTotal +
//                           week.chapters.reduce(
//                             (chapterTotal, chapter) =>
//                               chapterTotal +
//                               (chapter.assignments?.length || 0),
//                             0
//                           ),
//                         0
//                       ),
//                     0
//                   ) || 0,
//               },
//               {
//                 name: "Outcomes",
//                 icon: <FaCheckCircle />,
//                 key: "outcomes",
//                 count: course.learningOutcomes?.length || 0,
//               },
//             ].map((tab) => (
//               <button
//                 key={tab.key}
//                 onClick={() => setActiveTab(tab.key)}
//                 className={`flex items-center justify-between w-full px-4 py-2 rounded-xl text-sm font-medium transition shadow-sm ${
//                   activeTab === tab.key
//                     ? "bg-indigo-100 text-indigo-700"
//                     : "text-gray-700 hover:bg-gray-100"
//                 }`}
//               >
//                 <div className="flex items-center gap-2">
//                   {tab.icon}
//                   {tab.name}
//                 </div>
//                 {tab.count > 0 && (
//                   <span className="bg-gray-200 text-gray-700 text-xs px-2 py-0.5 rounded-full">
//                     {tab.count}
//                   </span>
//                 )}
//               </button>
//             ))}
//           </nav>

//           {/* Progress */}
//           <div className="pt-4 border-t">
//             <div className="text-sm text-gray-600 font-medium mb-2">
//               Your Progress
//             </div>
//             <div className="w-full bg-gray-200 rounded-full h-2 overflow-hidden">
//               <div
//                 className="bg-green-500 h-full transition-all duration-700 ease-in-out"
//                 style={{ width: "0%" }} // Replace with actual % dynamically
//               ></div>
//             </div>
//             <div className="text-xs text-gray-500 mt-1">0% Complete</div>
//           </div>
//         </div>
//       </aside>

//       {/* Main Content */}
//       <main className="flex-1 min-w-0">
//         <div className="bg-white rounded-2xl shadow-md p-6 min-h-[60vh]">
//           {activeTab === "overview" && (
//             <OverviewTab course={course} setActiveTab={setActiveTab} />
//           )}
//           {activeTab === "curriculum" && (
//             <CurriculumTab
//               course={course}
//               expandedWeeks={expandedWeeks}
//               toggleWeek={toggleWeek}
//             />
//           )}
//           {activeTab === "notes" && <NotesTab course={course} />}
//           {activeTab === "videos" && <VideosTab course={course} />}
//           {activeTab === "assignments" && <AssignmentsTab course={course} />}
//           {activeTab === "outcomes" && <OutcomesTab course={course} />}
//         </div>
//       </main>
//     </div>
//   </div>
// );

// };

// export default StudyCoursePage;
//  this is the stude page 



// /**
//  * üì¶ EventTableModal.jsx
//  *
//  * This modal displays all sessions under a given session category (e.g., event, webinar, workshop, internship-session).
//  * It page is triggered when the user clicks the "Manage" button from the `SessionCategoryForm` component.
//  */

// import { useEffect, useState } from "react";
// import ReactModal from "react-modal";
// import { useNavigate } from "react-router-dom";
// import apiClient from "../../api/axiosConfig";
// import ScrollableTable from "../table/ScrollableTable";

// import { Pencil, Trash, Trash2 } from "lucide-react";
// import { Tooltip } from "react-tooltip";
// // import {
// //   deleteSessionCategory,
// //   deleteEvent,
// //   deleteWebinar,
// //   deleteWorkshop,
// // } from "./upSkillsApi";

// // import { deleteSessionCategory } from "./upSkillsApi";

// // Helps screen readers focus on the modal
// ReactModal.setAppElement("#root");

// const EventTableModal = ({ isOpen, onClose, categoryId, categorySlug }) => {
//   const [data, setData] = useState([]);
//   const [loading, setLoading] = useState(false);
//   const [error, setError] = useState("");
//   const navigate = useNavigate();
//   // Could come from props, modal state, or route
// const [activeType, setActiveType] = useState("session-category");


// // Example handler inside your component
// const handleDelete = async (id, type) => {
//   if (!window.confirm(`Are you sure you want to delete this ${type}?`)) return;

//   try {
//     switch (type) {
//       case "session-category":
//         await deleteSessionCategory(id);
//         setSessionCategories((prev) => prev.filter((item) => item._id !== id));
//         toast.success("Session category deleted successfully!");
//         break;

//       case "event":
//         await deleteEvent(id);
//         setEvents((prev) => prev.filter((item) => item._id !== id));
//         toast.success("Event deleted successfully!");
//         break;

//       case "webinar":
//         await deleteWebinar(id);
//         setWebinars((prev) => prev.filter((item) => item._id !== id));
//         toast.success("Webinar deleted successfully!");
//         break;

//       case "workshop":
//         await deleteWorkshop(id);
//         setWorkshops((prev) => prev.filter((item) => item._id !== id));
//         toast.success("Workshop deleted successfully!");
//         break;

//       default:
//         throw new Error("Unknown delete type");
//     }
//   } catch (err) {
//     console.error(err);
//     toast.error(`Failed to delete ${type}.`);
//   }
// };

//   //  Fetch sessions based on the selected category slug (type)
//   useEffect(() => {
//     if (!isOpen) return;

//     const fetchSessions = async () => {
//       setLoading(true);
//       setError("");

//       try {
//         let response;

//         switch (categorySlug) {
//           case "event":
//             response = await apiClient.get("/api/event");
//             break;
//           case "webinar":
//             response = await apiClient.get("/api/webinars");
//             break;
//           case "workshop":
//             response = await apiClient.get("/api/workshops");
//             break;
//           case "internship-session":
//             response = await apiClient.get("/api/internship-sessions");
//             break;
//           default:
//             throw new Error("Unknown session type");
//         }

//         setData(response.data?.data || []);
//       } catch (err) {
//         console.error("‚ùå Failed to fetch sessions:", err);
//         setError("Failed to load sessions.");
//       } finally {
//         setLoading(false);
//       }
//     };

//     fetchSessions();
//   }, [isOpen, categorySlug]);

//   //  Table column definitions
//   const columns = [
//     { header: "Title", accessor: "title" },
//     {
//       header: "Start Date",
//       accessor: (row) =>
//         row.startDate
//           ? new Date(row.startDate).toLocaleDateString("en-US", {
//               year: "numeric",
//               month: "short",
//               day: "numeric",
//             })
//           : "‚Äî",
//     },
//     {
//       header: "End Date",
//       accessor: (row) =>
//         row.endDate
//           ? new Date(row.endDate).toLocaleDateString("en-US", {
//               year: "numeric",
//               month: "short",
//               day: "numeric",
//             })
//           : "‚Äî",
//     },
// {
//   header: "Actions",
//   accessor: (row) => (
//     <div className="flex items-center space-x-2">
//       {/* ‚úèÔ∏è Edit Button */}
//       <button
//         data-tooltip-id="tooltip"
//         data-tooltip-content="Edit"
//         onClick={() =>
//           navigate(
//             `/admin/${activeType}/${categoryId}/manage?type=edit&id=${row._id}`
//           )
//         }
//         className="text-blue-600 hover:bg-blue-100 p-2 rounded transition"
//       >
//         <Pencil size={18} />
//       </button>

//       {/* üóëÔ∏è Delete Button */}
//       <button
//         data-tooltip-id="tooltip"
//         data-tooltip-content="Delete"
//         onClick={() => handleDelete(row._id, activeType)}
//         className="text-red-600 hover:bg-red-100 p-2 rounded transition"
//       >
//         <Trash size={18} />
//       </button>
//     </div>
//   ),
// }


//     // {
//     //   header: "Actions",
//     //   accessor: (row) => (
//     //     <div className="flex items-center space-x-2">
//     //       {/* ‚úèÔ∏è Edit Button with Tooltip */}
//     //       <button
//     //         data-tooltip-id="tooltip"
//     //         data-tooltip-content="Edit Session"
//     //         onClick={() =>
//     //           navigate(
//     //             `/admin/session-category/${categoryId}/manage?type=edit&id=${row._id}`
//     //           )
//     //         }
//     //         className="text-blue-600 hover:bg-blue-100 p-2 rounded transition"
//     //       >
//     //         <Pencil size={18} />
//     //       </button>
//     //     </div>
//     //   ),
//     // },
//   ];

//   return (
//     <ReactModal
//       isOpen={isOpen}
//       onRequestClose={onClose}
//       contentLabel="All Sessions Modal"
//       className="p-6 bg-white rounded-lg shadow-lg max-w-3xl mx-auto mt-20 outline-none"
//       overlayClassName="fixed inset-0 bg-black/70 flex items-start justify-center z-50"
//     >
//       <div>
//         {/* Modal Header */}
//         <div className="flex justify-between items-center mb-4">
//           <h2 className="text-xl font-semibold capitalize">
//             All {categorySlug} Sessions
//           </h2>
//           <button
//             onClick={onClose}
//             className="text-gray-600 hover:text-black text-xl"
//           >
//             ‚úï
//           </button>
//         </div>

//         {/* Content */}
//         {loading ? (
//           <p>Loading...</p>
//         ) : error ? (
//           <p className="text-red-500">{error}</p>
//         ) : (
//           <ScrollableTable columns={columns} data={data} maxHeight="400px" />
//         )}
//       </div>

//       {/* Tooltip provider for icons */}
//       <Tooltip id="tooltip" place="top" />
//     </ReactModal>
//   );
// };

// export default EventTableModal;

// working event theme code 


// import { useFormik } from "formik";
// import { useEffect, useState } from "react";
// import { useLocation, useNavigate, useParams } from "react-router-dom";
// import * as Yup from "yup";

// // import EventTablePage from "../../pages/EventTablePage";
// import EventTablePage from "../../pages/admin/EventTablePage";

// import DateRangePicker from "../form/DateRangePicker";
// import Dropdown from "../form/Dropdown";
// import DynamicInputFields from "../form/DynamicInputFields";
// import FileInput from "../form/FileInput";
// import InputField from "../form/InputField";
// import MultiImageUpload from "../form/MultiImageUpload";
// import TextAreaField from "../form/TextAreaField";
// import TimeRangePicker from "../form/TimeRangePicker";
// import ToggleSwitch from "../form/ToggleSwitch";

// import { createEvent, getEventById, updateEvent } from "./upSkillsApi";
// // import { DIR } from "../../utils/constants";
// import { DIR } from "../../utils/constants";

// const EventForm = () => {
//   const { id } = useParams();
//   const navigate = useNavigate();
//   const { search } = useLocation();
//   const query = new URLSearchParams(search);

//   const mode = query.get("type"); // "edit" or "add"
//   const eventId = query.get("id");

//   const [loading, setLoading] = useState(false);
//   const [categoryName, setCategoryName] = useState("");
//   const [message, setMessage] = useState("");
//   const [isTableOpen, setIsTableOpen] = useState(false);

//   // Default form values
//   const defaultValues = {
//     title: "",
//     slug: "",
//     description: "",
//     category: id || "",
//     startDate: "",
//     endDate: "",
//     startTime: "",
//     endTime: "",
//     duration: "",
//     location: "",
//     mode: "Offline",
//     meetingLink: "",
//     organizer: "",
//     speakers: [""],
//     bannerImage: null,
//     gallery: [],
//     registrationLink: null,
//     isFree: true,
//     price: 0,
//     fees: {
//       amount: "",
//       currency: "INR",
//       refundPolicy: "",
//     },
//     tags: [""],
//     priority: "",
//     maxParticipants: "",
//     agenda: [{ time: "", activity: "" }],
//     resources: [],
//     sponsors: [""],
//     certificateAvailable: false,
//     feedbackFormLink: "",
//     topics: [""],
//     capacity: "",
//     socialLinks: {
//       facebook: "",
//       instagram: "",
//       twitter: "",
//       linkedin: "",
//     },
//     isActive: true,
//   };

//   const [initialValues, setInitialValues] = useState(defaultValues);

//   // Fetch event data if in edit mode and set form initial values
//   useEffect(() => {
//     const loadEvent = async () => {
//       if (mode === "edit" && eventId) {
//         setLoading(true);
//         try {
//           const resp = await getEventById(eventId);
//           const fetchedEvent = resp?.data?.data;
//           if (!fetchedEvent) {
//             // maybe show error or fallback
//             return;
//           }
//           // Prepare values for Formik, mapping existing images to full URLs
//           const prepared = {
//             ...defaultValues,
//             ...fetchedEvent,
//             category: fetchedEvent.category?._id || "",
//             startDate: fetchedEvent.startDate
//               ? fetchedEvent.startDate.split("T")[0]
//               : "",
//             endDate: fetchedEvent.endDate
//               ? fetchedEvent.endDate.split("T")[0]
//               : "",
//             startTime: fetchedEvent.startTime || "",
//             endTime: fetchedEvent.endTime || "",
//             bannerImage: fetchedEvent.bannerImage
//               ? `${DIR.EVENT_BANNER}${fetchedEvent.bannerImage}`
//               : null,
//             gallery: Array.isArray(fetchedEvent.gallery)
//               ? fetchedEvent.gallery.map(
//                   (file) => `${DIR.EVENT_GALLERY_IMAGE}${file}`
//                 )
//               : [],
//             tags: fetchedEvent.tags || [""],
//             priority: fetchedEvent.priority || "",
//             resources: fetchedEvent.resources || [],
//             speakers: fetchedEvent.speakers || [""],
//             sponsors: fetchedEvent.sponsors || [""],
//             topics: fetchedEvent.topics || [""],
//             capacity: fetchedEvent.capacity || "",
//             duration: fetchedEvent.duration || "",
//             fees: fetchedEvent.fees || {
//               amount: "",
//               currency: "INR",
//               refundPolicy: "",
//             },
//             socialLinks: {
//               facebook: fetchedEvent.socialLinks?.facebook || "",
//               instagram: fetchedEvent.socialLinks?.instagram || "",
//               twitter: fetchedEvent.socialLinks?.twitter || "",
//               linkedin: fetchedEvent.socialLinks?.linkedin || "",
//             },
//             certificateAvailable: fetchedEvent.certificateAvailable ?? false,
//           };
//           setInitialValues(prepared);
//         } catch (error) {
//           console.error("Error fetching event:", error);
//           setMessage("Failed to load event for editing.");
//         } finally {
//           setLoading(false);
//         }
//       } else {
//         // If not edit mode, reset to default
//         setInitialValues(defaultValues);
//       }
//     };

//     loadEvent();
//     // eslint-disable-next-line react-hooks/exhaustive-deps
//   }, [mode, eventId]); // Re-run if mode or eventId changes

//   // Validation schema (you can extend this as per your field requirements)
//   const validationSchema = Yup.object({
//     title: Yup.string().required("Title is required"),
//     slug: Yup.string().required("Slug is required"),
//     // Add more required validations as needed
//   });

//   const formik = useFormik({
//     initialValues,
//     validationSchema,
//     enableReinitialize: true,
//     onSubmit: async (values) => {
//       setLoading(true);
//       setMessage("");

//       try {
//         const formData = new FormData();

//         // Append simple scalar or nested data excluding bannerImage and gallery
//         Object.entries(values).forEach(([key, value]) => {
//           if (key === "bannerImage" || key === "gallery") return;

//           if (key === "agenda") {
//             // agenda is an array of objects
//             value.forEach((item, idx) => {
//               formData.append(`agenda[${idx}][time]`, item.time);
//               formData.append(`agenda[${idx}][activity]`, item.activity);
//             });
//           } else if (Array.isArray(value)) {
//             // arrays of strings or similar
//             value.forEach((item) => {
//               if (item !== null && item !== undefined && item !== "")
//                 formData.append(`${key}[]`, item);
//             });
//           } else if (
//             typeof value === "object" &&
//             value !== null &&
//             !Array.isArray(value)
//           ) {
//             // nested object (e.g. fees, socialLinks)
//             Object.entries(value).forEach(([subKey, subVal]) => {
//               if (subVal !== undefined && subVal !== null) {
//                 formData.append(`${key}[${subKey}]`, subVal);
//               }
//             });
//           } else {
//             // simple scalar
//             formData.append(key, value);
//           }
//         });

//         // Handle bannerImage: only upload if it's a File (new upload)
//         if (values.bannerImage instanceof File) {
//           formData.append("bannerImage", values.bannerImage);
//         }

//         // Handle gallery: send existing filenames and new image files
//         if (Array.isArray(values.gallery)) {
//           values.gallery.forEach((item) => {
//             if (item instanceof File) {
//               // new image file
//               formData.append("gallery", item);
//             } else if (typeof item === "string") {
//               // existing URL => extract filename
//               const fileName = item.split("/").pop();
//               formData.append("gallery", fileName);
//             }
//           });
//         }

//         // ... after building formData
//         console.log("FormData contents:");
//         for (let pair of formData.entries()) {
//           console.log(pair[0], ":", pair[1]);
//         }

//         let resp;

//         if (mode === "edit" && eventId) {
//           resp = await updateEvent(eventId, formData);
//           setMessage("‚úÖ Event updated successfully");
//         } else {
//           resp = await createEvent(formData);
//           setMessage("‚úÖ Event created successfully");
//           formik.resetForm();
//         }

//         // Optionally you can use resp to do further actions or redirect
//       } catch (err) {
//         console.error("Submit error:", err);
//         setMessage("‚ùå Failed to submit event.");
//       } finally {
//         setLoading(false);
//       }
//     },
//   });

//   const modeOptions = [
//     { _id: "Online", title: "Online" },
//     { _id: "Offline", title: "Offline" },
//     { _id: "Hybrid", title: "Hybrid" },
//   ];

//   return (
//     <form
//       onSubmit={formik.handleSubmit}
//       className="space-y-10 p-8 max-w-6xl mx-auto bg-white shadow-xl rounded-xl border border-gray-200"
//     >
//       <h2 className="text-3xl font-bold text-gray-900 border-b border-gray-200 pb-4 mb-8 text-center">
//         {mode === "edit" ? "Edit Event" : "Create Event"}
//       </h2>

//       {message && (
//         <p className="mb-4 text-center text-blue-600 font-semibold">
//           {message}
//         </p>
//       )}

//       {/* Basic Information */}
//       <section className="space-y-6">
//         <h3 className="text-xl font-semibold text-gray-800 border-b border-gray-200 pb-2">
//           Basic Information
//         </h3>
//         <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
//           <InputField label="Title" name="title" formik={formik} />
//           <InputField label="Slug" name="slug" formik={formik} />
//           <TextAreaField
//             label="Description"
//             name="description"
//             formik={formik}
//             rows={4}
//             className="md:col-span-2"
//           />
//           <InputField label="Location" name="location" formik={formik} />
//           <Dropdown
//             label="Project Mode"
//             name="mode"
//             options={modeOptions}
//             formik={formik}
//           />
//           {["Online", "Hybrid"].includes(formik.values.mode) && (
//             <InputField
//               label="Meeting Link"
//               name="meetingLink"
//               formik={formik}
//             />
//           )}
//         </div>
//       </section>

//       {/* Date & Time */}
//       <section className="space-y-6">
//         <h3 className="text-xl font-semibold text-gray-800 border-b border-gray-200 pb-2">
//           Date & Time
//         </h3>
//         <DateRangePicker formik={formik} />
//         <TimeRangePicker formik={formik} />
//       </section>

//       {/* Organizers & Speakers */}
//       <section className="space-y-6">
//         <h3 className="text-xl font-semibold text-gray-800 border-b border-gray-200 pb-2">
//           Organizers & Speakers
//         </h3>
//         <InputField label="Organizer" name="organizer" formik={formik} />
//         <DynamicInputFields label="Speakers" name="speakers" formik={formik} />
//       </section>

//       {/* Pricing & Participants */}
//       <section className="space-y-6">
//         <h3 className="text-xl font-semibold text-gray-800 border-b border-gray-200 pb-2">
//           Pricing & Participants
//         </h3>
//         <ToggleSwitch
//           label="Is Free Event"
//           name="isFree"
//           checked={formik.values.isFree}
//           onChange={(e) => formik.setFieldValue("isFree", e.target.checked)}
//         />
//         {!formik.values.isFree && (
//           <InputField
//             label="Price"
//             name="price"
//             type="number"
//             formik={formik}
//           />
//         )}
//         <InputField
//           label="Max Participants"
//           name="maxParticipants"
//           type="number"
//           formik={formik}
//         />
//       </section>

//       {/* Agenda */}
//       <section className="space-y-6">
//         <h3 className="text-xl font-semibold text-gray-800 border-b border-gray-200 pb-2">
//           Agenda
//         </h3>
//         {formik.values.agenda.map((item, idx) => (
//           <div
//             key={idx}
//             className="grid grid-cols-1 md:grid-cols-3 gap-4 items-center mb-2"
//           >
//             <input
//               type="time"
//               value={item.time}
//               onChange={(e) => {
//                 const arr = [...formik.values.agenda];
//                 arr[idx].time = e.target.value;
//                 formik.setFieldValue("agenda", arr);
//               }}
//               className="border border-blue-500 p-2 rounded w-full"
//               required
//             />
//             <input
//               type="text"
//               value={item.activity}
//               onChange={(e) => {
//                 const arr = [...formik.values.agenda];
//                 arr[idx].activity = e.target.value;
//                 formik.setFieldValue("agenda", arr);
//               }}
//               placeholder={`Activity ${idx + 1}`}
//               className="border border-blue-500 p-2 rounded w-full"
//               required
//             />
//             <div className="flex gap-2">
//               {formik.values.agenda.length > 1 && (
//                 <button
//                   type="button"
//                   onClick={() => {
//                     const filtered = formik.values.agenda.filter(
//                       (_, i) => i !== idx
//                     );
//                     formik.setFieldValue("agenda", filtered);
//                   }}
//                   className="bg-red-500 text-white px-2 rounded"
//                 >
//                   ‚úï
//                 </button>
//               )}
//               {idx === formik.values.agenda.length - 1 && (
//                 <button
//                   type="button"
//                   onClick={() =>
//                     formik.setFieldValue("agenda", [
//                       ...formik.values.agenda,
//                       { time: "", activity: "" },
//                     ])
//                   }
//                   className="bg-blue-500 text-white px-4 rounded"
//                 >
//                   +
//                 </button>
//               )}
//             </div>
//           </div>
//         ))}
//       </section>

//       {/* Additional Info */}
//       <section className="space-y-6">
//         <h3 className="text-xl font-semibold text-gray-800 border-b border-gray-200 pb-2">
//           Additional Info
//         </h3>
//         <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
//           <FileInput label="Banner Image" name="bannerImage" formik={formik} />
//           <DynamicInputFields label="Tags" name="tags" formik={formik} />
//           <InputField label="Priority" name="priority" formik={formik} />
//           <DynamicInputFields
//             label="Resources"
//             name="resources"
//             formik={formik}
//           />
//           <MultiImageUpload label="Gallery" name="gallery" formik={formik} />
//           <DynamicInputFields
//             label="Sponsors"
//             name="sponsors"
//             formik={formik}
//           />
//           <InputField
//             label="Feedback Form Link"
//             name="feedbackFormLink"
//             formik={formik}
//           />
//           <InputField
//             label="Registration Link"
//             name="registrationLink"
//             formik={formik}
//           />
//           <ToggleSwitch
//             label="Certificate Available"
//             name="certificateAvailable"
//             checked={formik.values.certificateAvailable}
//             onChange={(e) =>
//               formik.setFieldValue("certificateAvailable", e.target.checked)
//             }
//           />
//         </div>
//       </section>

//       {/* Social Media Links */}
//       <section className="space-y-6">
//         <h3 className="text-xl font-semibold text-gray-800 border-b border-gray-200 pb-2">
//           Social Media Links
//         </h3>
//         <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
//           <InputField
//             label="Facebook"
//             name="socialLinks.facebook"
//             formik={formik}
//           />
//           <InputField
//             label="Instagram"
//             name="socialLinks.instagram"
//             formik={formik}
//           />
//           <InputField
//             label="Twitter"
//             name="socialLinks.twitter"
//             formik={formik}
//           />
//           <InputField
//             label="LinkedIn"
//             name="socialLinks.linkedin"
//             formik={formik}
//           />
//         </div>
//       </section>

//       {/* Submit Button */}
//       <div className="flex justify-end pt-4">
//         <button
//           type="submit"
//           disabled={formik.isSubmitting || loading}
//           className="px-8 py-4 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-xl shadow-lg transition disabled:opacity-50 disabled:cursor-not-allowed"
//         >
//           {mode === "edit" ? "Update Event" : "Create Event"}
//         </button>
//       </div>

//       {/* Optional: status message */}
//       {message && (
//         <p className="text-sm mt-4 text-center text-gray-600 italic">
//           {message}
//         </p>
//       )}

//       {/* Modal / table for events (if needed) */}
//       <EventTablePage
//         isOpen={isTableOpen}
//         onClose={() => setIsTableOpen(false)}
//         // you might pass editing callback
//       />
//     </form>
//   );
// };

// export default EventForm; working event form 



// // src/components/forms/WebinarForm.jsx

// import { useFormik } from "formik";
// import { useEffect, useState } from "react";
// import { useLocation, useParams } from "react-router-dom";
// import * as Yup from "yup";

// // import InputField from "../form-fields/InputField";
// import Dropdown from "../form/Dropdown";
// import DynamicInputFields from "../form/DynamicInputFields";
// import FileInput from "../form/FileInput";
// import InputField from "../form/InputField";
// import TextAreaField from "../form/TextAreaField";
// import TimeRangePicker from "../form/TimeRangePicker";
// import ToggleSwitch from "../form/ToggleSwitch";

// import { createWebinar, getWebinarById, updateWebinar } from "./upSkillsApi";
// // import { DIR } from "../../constants/dir";
// import { DIR } from "../../utils/constants";

// const WebinarForm = () => {
//   const { id: categoryId } = useParams(); // might be a session-category ID
//   const { search } = useLocation();
//   const query = new URLSearchParams(search);

//   const mode = query.get("type"); // "edit" or "add"
//   const webinarId = query.get("id"); // only exists in edit mode

//   const [loading, setLoading] = useState(false);
//   const [formStatus, setFormStatus] = useState("");

//   const defaultValues = {
//     title: "",
//     description: "",
//     date: "",
//     startTime: "",
//     endTime: "",
//     speakerName: "",
//     speakerBio: "",
//     speakerPhoto: null,
//     platform: "",
//     meetingLink: "",
//     meetingId: "",
//     passcode: "",
//     registrationRequired: true,
//     maxParticipants: "",
//     tags: [""],
//     status: "Upcoming",
//   };

//   const [initialValues, setInitialValues] = useState(defaultValues);

//   // Fetch data only in edit mode
//   useEffect(() => {
//     const fetchWebinar = async () => {
//       if (mode !== "edit" || !webinarId) return;

//       setLoading(true);
//       try {
//         const resp = await getWebinarById(webinarId);
//         const data = resp.data?.data;
//         if (data && data._id) {
//           setInitialValues({
//             title: data.title || "",
//             description: data.description || "",
//             date: data.date ? data.date.split("T")[0] : "",
//             startTime: data.startTime || "",
//             endTime: data.endTime || "",
//             speakerName: data.speakerName || "",
//             speakerBio: data.speakerBio || "",
//             speakerPhoto: data.speakerPhoto
//               ? `${DIR.WEBINAR_SPEAKER_PHOTO}${data.speakerPhoto}`
//               : null,
//             platform: data.platform || "",
//             meetingLink: data.meetingLink || "",
//             meetingId: data.meetingId || "",
//             passcode: data.passcode || "",
//             registrationRequired: data.registrationRequired ?? true,
//             maxParticipants: data.maxParticipants
//               ? String(data.maxParticipants)
//               : "",
//             tags:
//               Array.isArray(data.tags) && data.tags.length > 0
//                 ? data.tags
//                 : [""],
//             status: data.status || "Upcoming",
//           });
//           setFormStatus("");
//         } else {
//           setFormStatus("‚ùå Webinar not found");
//         }
//       } catch (err) {
//         console.error("Error fetching webinar:", err);
//         setFormStatus("‚ùå Failed to load webinar data");
//       } finally {
//         setLoading(false);
//       }
//     };

//     fetchWebinar();
//   }, [mode, webinarId]);

//   const formik = useFormik({
//     initialValues,
//     enableReinitialize: true,
//     validationSchema: Yup.object({
//       title: Yup.string().required("Title is required"),
//       date: Yup.date().required("Date is required"),
//       startTime: Yup.string().required("Start time is required"),
//       speakerName: Yup.string().required("Speaker name is required"),
//       platform: Yup.string().required("Platform is required"),
//       meetingLink: Yup.string()
//         .url("Must be a valid URL")
//         .required("Meeting link is required"),
//     }),
//     onSubmit: async (values, { resetForm, setSubmitting }) => {
//       setSubmitting(true);
//       setFormStatus("");

//       try {
//         const formData = new FormData();

//         // Tags
//         if (Array.isArray(values.tags)) {
//           values.tags
//             .filter((tag) => tag.trim() !== "")
//             .forEach((tag) => formData.append("tags[]", tag));
//         }

//         // Speaker Photo
//         if (values.speakerPhoto instanceof File) {
//           formData.append("speakerPhoto", values.speakerPhoto);
//         }

//         // Scalar fields
//         const scalarFields = [
//           "title",
//           "description",
//           "date",
//           "startTime",
//           "endTime",
//           "speakerName",
//           "speakerBio",
//           "platform",
//           "meetingLink",
//           "meetingId",
//           "passcode",
//           "registrationRequired",
//           "maxParticipants",
//           "status",
//         ];

//         scalarFields.forEach((field) => {
//           const val = values[field];
//           if (val !== undefined && val !== null && val !== "") {
//             formData.append(field, val);
//           }
//         });

//         // Create or Update
//         if (mode === "edit" && webinarId) {
//           await updateWebinar(webinarId, formData);
//           setFormStatus("‚úÖ Webinar updated successfully!");
//         } else {
//           await createWebinar(formData);
//           setFormStatus("‚úÖ Webinar created successfully!");
//           resetForm();
//         }
//       } catch (err) {
//         console.error("Error submitting webinar:", err);
//         setFormStatus("‚ùå Failed to submit webinar.");
//       } finally {
//         setSubmitting(false);
//       }
//     },
//   });
//   return (
//     <form
//       onSubmit={formik.handleSubmit}
//       className="space-y-8 p-8 max-w-4xl mx-auto bg-white shadow-lg rounded-lg border border-gray-200"
//     >
//       <h2 className="text-3xl font-bold mb-6 text-gray-900 text-center">
//         {webinarId ? "Edit Webinar" : "Create Webinar"}
//       </h2>

//       {loading && (
//         <p className="text-center text-gray-500">Loading webinar data...</p>
//       )}
//       {formStatus && (
//         <p
//           className={`text-center text-sm font-medium ${
//             formStatus.startsWith("‚úÖ") ? "text-green-600" : "text-red-600"
//           }`}
//         >
//           {formStatus}
//         </p>
//       )}

//       {/* Title & Description */}
//       <InputField label="Title" name="title" formik={formik} />
//       <TextAreaField label="Description" name="description" formik={formik} />

//       {/* Date & Time */}
//       <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
//         <div>
//           <label className="block text-sm font-medium text-gray-700">
//             Date*
//           </label>
//           <input
//             type="date"
//             name="date"
//             value={formik.values.date}
//             onChange={formik.handleChange}
//             onBlur={formik.handleBlur}
//             className="w-full mt-1 border border-gray-300 rounded-md p-2 focus:ring focus:ring-blue-300"
//           />
//           {formik.touched.date && formik.errors.date && (
//             <span className="text-red-500 text-xs">{formik.errors.date}</span>
//           )}
//         </div>
//         <TimeRangePicker formik={formik} />
//       </div>

//       {/* Platform & Meeting Details */}
//       <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
//         <InputField label="Platform" name="platform" formik={formik} />
//         <InputField
//           label="Meeting Link"
//           name="meetingLink"
//           formik={formik}
//           type="url"
//         />
//         <InputField label="Meeting ID" name="meetingId" formik={formik} />
//         <InputField label="Passcode" name="passcode" formik={formik} />
//       </div>

//       {/* Speaker info */}
//       <InputField label="Speaker Name" name="speakerName" formik={formik} />
//       <TextAreaField label="Speaker Bio" name="speakerBio" formik={formik} />
//       <FileInput label="Speaker Photo" name="speakerPhoto" formik={formik} />

//       {/* Registration & Tags */}
//       <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
//         <InputField
//           label="Max Participants"
//           name="maxParticipants"
//           type="number"
//           formik={formik}
//         />
//         <DynamicInputFields label="Tags" name="tags" formik={formik} />
//       </div>
//       <ToggleSwitch
//         label="Registration Required"
//         name="registrationRequired"
//         checked={formik.values.registrationRequired}
//         onChange={() =>
//           formik.setFieldValue(
//             "registrationRequired",
//             !formik.values.registrationRequired
//           )
//         }
//       />

//       {/* Status */}
//       <Dropdown
//         label="Status"
//         name="status"
//         formik={formik}
//         options={[
//           { _id: "Upcoming", title: "Upcoming" },
//           { _id: "Ongoing", title: "Ongoing" },
//           { _id: "Completed", title: "Completed" },
//         ]}
//       />

//       {/* Submit Button */}
//       <div className="flex justify-center mt-6">
//         <button
//           type="submit"
//           disabled={formik.isSubmitting}
//           className="px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-md shadow disabled:opacity-50"
//         >
//           {formik.isSubmitting
//             ? "Submitting..."
//             : webinarId
//             ? "Update Webinar"
//             : "Create Webinar"}
//         </button>
//       </div>
//     </form>
//   );
// };

// export default WebinarForm;

//  working webinar form


// import { useFormik } from "formik";
// import { useEffect, useState } from "react";
// import { useLocation } from "react-router-dom";
// import * as Yup from "yup";

// import DateRangePicker from "../form/DateRangePicker";
// import DynamicInputFields from "../form/DynamicInputFields";
// import InputField from "../form/InputField";
// import TextAreaField from "../form/TextAreaField";
// import ToggleSwitch from "../form/ToggleSwitch";

// import {
//   createWorkshop,
//   fetchWorkshopById,
//   updateWorkshop,
// } from "./upSkillsApi";

// const useQuery = () => new URLSearchParams(useLocation().search);

// const formatDateForInput = (isoString) => {
//   if (!isoString) return "";
//   return new Date(isoString).toISOString().split("T")[0];
// };

// const WorkshopForm = () => {
//   const query = useQuery();
//   const id = query.get("id");

//   const [initialData, setInitialData] = useState(null);
//   const [loading, setLoading] = useState(Boolean(id));

//   useEffect(() => {
//     if (!id) return;

//     const fetchData = async () => {
//       setLoading(true);
//       try {
//         const data = await fetchWorkshopById(id);
//         if (data) {
//           const safeData = {
//             ...data,
//             prerequisites:
//               Array.isArray(data.prerequisites) && data.prerequisites.length > 0
//                 ? data.prerequisites
//                 : [""],
//             topics:
//               Array.isArray(data.topics) && data.topics.length > 0
//                 ? data.topics
//                 : [""],
//             instructors:
//               Array.isArray(data.instructors) && data.instructors.length > 0
//                 ? data.instructors.map((ins) => ({
//                     name: ins.name ?? "",
//                     designation: ins.designation ?? "",
//                   }))
//                 : [{ name: "", designation: "" }],
//             contact: {
//               email: data.contact?.email ?? "",
//               phone: data.contact?.phone ?? "",
//             },
//             fees: data.fees ?? "",
//             startDate: formatDateForInput(data.startDate),
//             endDate: formatDateForInput(data.endDate),
//             certification: data.certification ?? false,
//             status: data.status ?? "Past",
//           };
//           setInitialData(safeData);
//         }
//       } catch (error) {
//         console.error("Failed to fetch workshop:", error);
//       } finally {
//         setLoading(false);
//       }
//     };

//     fetchData();
//   }, [id]);

//   const validationSchema = Yup.object({
//     title: Yup.string().required("Title is required"),
//     description: Yup.string().required("Description is required"),
//     fees: Yup.number()
//       .min(0, "Fees must be positive")
//       .required("Fees is required"),
//     instructors: Yup.array().of(
//       Yup.object({
//         name: Yup.string().required("Instructor name is required"),
//         designation: Yup.string().required("Designation is required"),
//       })
//     ),
//   });

//   const formik = useFormik({
//     enableReinitialize: true,
//     initialValues: initialData || {
//       title: "",
//       description: "",
//       startDate: "",
//       endDate: "",
//       duration: "",
//       location: "",
//       prerequisites: [""],
//       topics: [""],
//       instructors: [{ name: "", designation: "" }],
//       registrationLink: "",
//       fees: "",
//       certification: false,
//       contact: {
//         email: "",
//         phone: "",
//       },
//       status: "Past",
//     },
//     validationSchema,
//     // onSubmit: async (values, { setSubmitting, setStatus, resetForm }) => {
//     //   try {
//     //     const payload = {
//     //       ...values,
//     //       fees: Number(values.fees),
//     //       prerequisites: values.prerequisites.filter((p) => p.trim() !== ''),
//     //       topics: values.topics.filter((t) => t.trim() !== ''),
//     //       instructors: values.instructors.filter(
//     //         (ins) => ins.name.trim() !== '' || ins.designation.trim() !== ''
//     //       ),
//     //     };

//     //     if (id) {
//     //       await updateWorkshop(id, payload);
//     //       setStatus('Workshop updated successfully!');
//     //     } else {
//     //       await createWorkshop(payload);
//     //       setStatus('Workshop created successfully!');
//     //       resetForm();
//     //     }
//     //   } catch (error) {
//     //     console.error('Submission error:', error);
//     //     setStatus('Failed to submit workshop.');
//     //   } finally {
//     //     setSubmitting(false);
//     //   }
//     // },

//     onSubmit: async (values, { setSubmitting, setStatus }) => {
//       try {
//         const payload = {
//           ...values,
//           fees: Number(values.fees),
//           prerequisites: values.prerequisites.filter((p) => p.trim() !== ""),
//           topics: values.topics.filter((t) => t.trim() !== ""),
//           instructors: values.instructors.filter(
//             (ins) => ins.name.trim() !== "" || ins.designation.trim() !== ""
//           ),
//         };

//         console.log("Submitting payload:", payload);

//         if (id) {
//           const result = await updateWorkshop(id, payload);
//           console.log("Update result:", result);
//           setStatus("Workshop updated successfully!");
//         } else {
//           await createWorkshop(payload);
//           setStatus("Workshop created successfully!");
//         }
//       } catch (error) {
//         console.error("Error during submission:", error);
//         setStatus("Failed to submit workshop: " + error.message);
//       } finally {
//         setSubmitting(false);
//       }
//     },
//   });

//   const addInstructor = () => {
//     formik.setFieldValue("instructors", [
//       ...formik.values.instructors,
//       { name: "", designation: "" },
//     ]);
//   };

//   const removeInstructor = (index) => {
//     const updated = [...formik.values.instructors];
//     updated.splice(index, 1);
//     formik.setFieldValue("instructors", updated);
//   };

//   if (loading) {
//     return (
//       <div className="flex justify-center items-center h-40 text-gray-500 font-semibold">
//         Loading workshop data...
//       </div>
//     );
//   }

//   return (
//     <form
//       onSubmit={formik.handleSubmit}
//       className="max-w-5xl mx-auto bg-white shadow-xl rounded-xl border border-gray-300 p-8 space-y-10"
//     >
//       <h2 className="text-3xl font-bold text-gray-900 border-b border-gray-200 pb-4 mb-8">
//         {id ? "Edit Workshop" : "Create Workshop"}
//       </h2>

//       {/* Basic Info */}
//       <section className="space-y-6">
//         <h3 className="text-xl font-semibold text-gray-800 border-b border-gray-200 pb-2 mb-4">
//           Basic Information
//         </h3>
//         <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
//           <InputField label="Title" name="title" formik={formik} />
//           <InputField label="Duration" name="duration" formik={formik} />
//           <InputField label="Location" name="location" formik={formik} />
//           <InputField
//             label="Registration Link"
//             name="registrationLink"
//             formik={formik}
//           />
//           <InputField label="Fees" name="fees" type="number" formik={formik} />
//         </div>
//         <TextAreaField label="Description" name="description" formik={formik} />
//       </section>

//       {/* Schedule */}
//       <section className="space-y-6">
//         <h3 className="text-xl font-semibold text-gray-800 border-b border-gray-200 pb-2 mb-4">
//           Schedule
//         </h3>
//         <DateRangePicker formik={formik} />
//       </section>

//       {/* Workshop Content */}
//       <section className="space-y-6">
//         <h3 className="text-xl font-semibold text-gray-800 border-b border-gray-200 pb-2 mb-4">
//           Workshop Content
//         </h3>
//         <DynamicInputFields
//           label="Prerequisites"
//           name="prerequisites"
//           formik={formik}
//         />
//         <DynamicInputFields label="Topics" name="topics" formik={formik} />
//       </section>

//       {/* Instructors */}
//       <section className="space-y-6">
//         <h3 className="text-xl font-semibold text-gray-800 border-b border-gray-200 pb-2 mb-4">
//           Instructors
//         </h3>

//         {formik.values.instructors.map((instructor, index) => {
//           const nameField = `instructors.${index}.name`;
//           const designationField = `instructors.${index}.designation`;

//           const nameError =
//             formik.touched.instructors?.[index]?.name &&
//             formik.errors.instructors?.[index]?.name;
//           const designationError =
//             formik.touched.instructors?.[index]?.designation &&
//             formik.errors.instructors?.[index]?.designation;

//           return (
//             <div
//               key={index}
//               className="grid grid-cols-1 md:grid-cols-[1fr_1fr_auto] gap-4 items-center"
//             >
//               <div>
//                 <input
//                   type="text"
//                   name={nameField}
//                   placeholder="Name"
//                   value={instructor.name ?? ""}
//                   onChange={formik.handleChange}
//                   onBlur={formik.handleBlur}
//                   className={`w-full px-4 py-2 rounded-lg border outline-none bg-white transition ${
//                     nameError
//                       ? "border-red-500 focus:ring-red-300"
//                       : "border-blue-400 focus:ring-blue-300"
//                   }`}
//                 />
//                 {nameError && (
//                   <div className="text-red-600 text-sm mt-1">{nameError}</div>
//                 )}
//               </div>

//               <div>
//                 <input
//                   type="text"
//                   name={designationField}
//                   placeholder="Designation"
//                   value={instructor.designation ?? ""}
//                   onChange={formik.handleChange}
//                   onBlur={formik.handleBlur}
//                   className={`w-full px-4 py-2 rounded-lg border outline-none bg-white transition ${
//                     designationError
//                       ? "border-red-500 focus:ring-red-300"
//                       : "border-blue-400 focus:ring-blue-300"
//                   }`}
//                 />
//                 {designationError && (
//                   <div className="text-red-600 text-sm mt-1">
//                     {designationError}
//                   </div>
//                 )}
//               </div>

//               <button
//                 type="button"
//                 onClick={() => removeInstructor(index)}
//                 className="text-sm text-red-600 hover:underline"
//                 disabled={formik.values.instructors.length === 1}
//               >
//                 Remove
//               </button>
//             </div>
//           );
//         })}

//         <button
//           type="button"
//           onClick={addInstructor}
//           className="text-blue-600 text-sm mt-2 hover:underline"
//         >
//           + Add Instructor
//         </button>
//       </section>

//       {/* Certification Toggle */}
//       <section className="space-y-6">
//         <h3 className="text-xl font-semibold text-gray-800 border-b border-gray-200 pb-2 mb-4">
//           Certification
//         </h3>
//         <ToggleSwitch
//           label="Will this workshop offer a certification?"
//           name="certification"
//           formik={formik}
//         />
//       </section>

//       {/* Contact Info */}
//       <section className="space-y-6">
//         <h3 className="text-xl font-semibold text-gray-800 border-b border-gray-200 pb-2 mb-4">
//           Contact Information
//         </h3>
//         <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
//           <InputField
//             label="Contact Email"
//             name="contact.email"
//             formik={formik}
//           />
//           <InputField
//             label="Contact Phone"
//             name="contact.phone"
//             formik={formik}
//           />
//         </div>
//       </section>

//       {/* Status Selection */}
//       <section className="space-y-6">
//         <h3 className="text-xl font-semibold text-gray-800 border-b border-gray-200 pb-2 mb-4">
//           Workshop Status
//         </h3>
//         <div className="flex gap-6">
//           {["Past", "Upcoming", "Ongoing"].map((status) => (
//             <label key={status} className="inline-flex items-center space-x-2">
//               <input
//                 type="radio"
//                 name="status"
//                 value={status}
//                 checked={formik.values.status === status}
//                 onChange={formik.handleChange}
//               />
//               <span>{status}</span>
//             </label>
//           ))}
//         </div>
//       </section>

//       {/* Submit Button and Status */}
//       <div className="pt-6 border-t border-gray-200">
//         {formik.status && (
//           <div className="mb-4 text-green-600 font-medium">{formik.status}</div>
//         )}
//         <button
//           type="submit"
//           disabled={formik.isSubmitting}
//           className="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition"
//         >
//           {formik.isSubmitting
//             ? id
//               ? "Updating..."
//               : "Creating..."
//             : id
//             ? "Update Workshop"
//             : "Create Workshop"}
//         </button>
//       </div>
//     </form>
//   );
// };

// export default WorkshopForm;
// working workshop form 


// import { useFormik } from "formik";
// import { useEffect } from "react";
// import { useLocation } from "react-router-dom";
// import * as Yup from "yup";
// import apiClient from "../../api/axiosConfig";
// import DateRangePicker from "../form/DateRangePicker";
// import Dropdown from "../form/Dropdown";
// import DynamicInputFields from "../form/DynamicInputFields";
// import InputField from "../form/InputField";
// import TextAreaField from "../form/TextAreaField";
// import ToggleSwitch from "../form/ToggleSwitch";

// const InternshipSessionForm = () => {


// const location = useLocation();
// const queryParams = new URLSearchParams(location.search);
// const sessionId = queryParams.get("id");
// const isEditMode = queryParams.get("type") === "edit";

//   const formik = useFormik({
//     initialValues: {
//       title: "",
//       description: "",
//       startDate: "",
//       endDate: "",
//       duration: "",
//       mode: "",
//       location: "",
//       topics: [""], // ‚úÖ now as array
//       capacity: "",
//       fees: {
//         amount: "",
//         // currency: "",
//         refundPolicy: "",
//       },
//       certification: false,
//       status: "",
//     },
//     validationSchema: Yup.object({
//       // add validations if needed
//     }),
 
//     onSubmit: async (values, { resetForm, setSubmitting, setStatus }) => {
//   try {
//     const payload = {
//       ...values,
//       capacity: Number(values.capacity),
//       fees: {
//         ...values.fees,
//         amount: Number(values.fees.amount),
//       },
//       topics: values.topics.filter((t) => t.trim() !== ""),
//     };

//     if (isEditMode && sessionId) {
//       await apiClient.put(`/api/internship-sessions/${sessionId}`, payload);
//       setStatus("‚úÖ Internship session updated successfully!");
//     } else {
//       await apiClient.post("/api/internship-sessions", payload);
//       setStatus("‚úÖ Internship session created successfully!");
//       resetForm();
//     }
//   } catch (err) {
//     console.error("Error submitting internship session:", err);
//     setStatus("‚ùå Failed to submit internship session.");
//   } finally {
//     setSubmitting(false);
//   }
// }

//   });

//   useEffect(() => {
//   const fetchInternshipSession = async () => {
//     if (!isEditMode || !sessionId) return;

//     try {
//       const response = await apiClient.get(`/api/internship-sessions/${sessionId}`);
//       const data = response.data?.data;

//       if (data && data._id) {
//         formik.setValues({
//           title: data.title || "",
//           description: data.description || "",
//           startDate: data.startDate?.split("T")[0] || "",
//           endDate: data.endDate?.split("T")[0] || "",
//           duration: data.duration || "",
//           mode: data.mode || "",
//           location: data.location || "",
//           topics: Array.isArray(data.topics) ? data.topics : [""],
//           capacity: data.capacity?.toString() || "",
//           fees: {
//             amount: data.fees?.amount?.toString() || "",
//             // currency: data.fees?.currency || "",
//             refundPolicy: data.fees?.refundPolicy || "",
//           },
//           certification: data.certification ?? false,
//           status: data.status || "",
//         });
//       } else {
//         console.warn("Session not found");
//         formik.setStatus("‚ùå Internship session not found.");
//       }
//     } catch (error) {
//       console.error("Failed to fetch internship session:", error);
//       formik.setStatus("‚ùå Failed to fetch session data.");
//     }
//   };

//   fetchInternshipSession();
// }, [isEditMode, sessionId]);


//   return (
//     <form
//       onSubmit={formik.handleSubmit}
//       className="space-y-10 p-8 max-w-5xl mx-auto bg-white shadow-xl rounded-xl border border-gray-300"
//     >
//       <h2 className="text-3xl font-bold text-gray-900 border-b border-gray-200 pb-4 mb-8">
//         Create Internship Session
//       </h2>

//       {/* Section 1: Basic Information */}
//       <section className="space-y-6">
//         <h3 className="text-xl font-semibold text-gray-800 border-b border-gray-200 pb-2 mb-4">
//           Basic Information
//         </h3>
//         <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
//           <InputField
//             label="Title"
//             name="title"
//             formik={formik}
//             className="focus:ring-2 focus:ring-blue-400 transition"
//           />
//           <InputField
//             label="Duration (in months)"
//             name="duration"
//             formik={formik}
//             className="focus:ring-2 focus:ring-blue-400 transition"
//           />
//           <InputField
//             label="Location"
//             name="location"
//             formik={formik}
//             className="focus:ring-2 focus:ring-blue-400 transition"
//           />
//           <InputField
//             label="Capacity"
//             name="capacity"
//             type="number"
//             formik={formik}
//             className="focus:ring-2 focus:ring-blue-400 transition"
//           />
//         </div>
//       </section>

//       {/* Section 2: Fees & Payment */}
//       <section className="space-y-6">
//         <h3 className="text-xl font-semibold text-gray-800 border-b border-gray-200 pb-2 mb-4">
//           Fees & Payment
//         </h3>
//         <div className="grid grid-cols-1 md:grid-cols-3 gap-8">
//           <InputField
//             label="Amount"
//             name="fees.amount"
//             type="number"
//             formik={formik}
//             className="focus:ring-2 focus:ring-blue-400 transition"
//           />
//           {/* <InputField
//             label="Currency"
//             name="fees.currency"
//             formik={formik}
//             className="focus:ring-2 focus:ring-blue-400 transition"
//           /> */}
//           <InputField
//             label="Refund Policy"
//             name="fees.refundPolicy"
//             formik={formik}
//             className="focus:ring-2 focus:ring-blue-400 transition"
//           />
//         </div>
//       </section>

//       {/* Section 3: Session Details */}
//       <section className="space-y-6">
//         <h3 className="text-xl font-semibold text-gray-800 border-b border-gray-200 pb-2 mb-4">
//           Session Details
//         </h3>

// <div className="w-132">
//         <Dropdown
//           label="Mode"
//           name="mode"
//           formik={formik}
//           options={[
//             { _id: "Online", title: "Online" },
//             { _id: "Offline", title: "Offline" },
//             { _id: "Hybrid", title: "Hybrid" },
//           ]}
//           className="focus:ring-2 focus:ring-blue-400 transition"
//         />
//         </div>

//         <TextAreaField
//           label="Description"
//           name="description"
//           formik={formik}
//           className="focus:ring-2 focus:ring-blue-400 transition"
//         />

//         <DateRangePicker formik={formik} />

//         <DynamicInputFields
//           formik={formik}
//           name="topics"
//           label="Topics"
//           className=""
//         />
//       </section>

//       {/* Section 4: Additional Settings */}
//       <section className="space-y-6">
//         <h3 className="text-xl font-semibold text-gray-800 border-b border-gray-200 pb-2 mb-4">
//           Additional Settings
//         </h3>

// <div className="w-132">
//         <Dropdown
//           label="Status"
//           name="status"
//           formik={formik}
//           options={[
//             { _id: "Upcoming", title: "Upcoming" },
//             { _id: "Ongoing", title: "Ongoing" },
//             { _id: "Past", title: "Past" },
//           ]}
//           className="focus:ring-2 focus:ring-blue-400 transition"
//         />
//         </div>

//         <ToggleSwitch
//           label="Certification Available"
//           name="certification"
//           checked={formik.values.certification}
//           onChange={() =>
//             formik.setFieldValue("certification", !formik.values.certification)
//           }
//           className=""
//         />
//       </section>

//       {/* Submit */}
//       <button
//         type="submit"
//         disabled={formik.isSubmitting}
//         className="w-full md:w-auto mt-8 px-8 py-4 bg-blue-600 hover:bg-blue-700 focus:ring-4 focus:ring-blue-300 transition text-white rounded-xl font-semibold shadow-lg disabled:opacity-50 disabled:cursor-not-allowed"
//       >
//         {formik.isSubmitting ? "Submitting..." : "Create Session"}
//       </button>

//       {formik.status && (
//         <p className="text-sm mt-4 text-gray-600 italic">{formik.status}</p>
//       )}
//     </form>
//   );
// };

// export default InternshipSessionForm;
//  working intership- session form 

   {/* Admin Routes */}
          {/* <Route element={<PrivateRoute roles={["admin"]} />}>
            <Route path="/admin/dashboard" element={<AdminDashboardPage />} />
            <Route path="/admin/users" element={<AdminUserManagementPage />} />
            <Route
              path="/admin/branches"
              element={<AdminBranchManagementPage />}
            />
            <Route
              path="/admin/courses"
              element={<AdminCourseManagementPage />}
            />
               <Route path="/admin/courses" element={<CourseTable />} />
        <Route path="/admin/courses/new" element={<CourseForm />} />
        <Route path="/admin/courses/edit/:id" element={<CourseForm />} />
            <Route
              path="/admin/course/:courseId/content"
              element={<CourseContentManagementPage />}
            />
            <Route
              path="/admin/enrollments"
              element={<AdminEnrollmentManagementPage />}
            />
            <Route path="/admin/tests" element={<TestManagementPage />} />
            <Route path="/admin/tests/create" element={<CreateTestPage />} />
            <Route path="/admin/results" element={<AdminAllResultsPage />} />
            <Route
              path="/admin/book-session"
              element={<SessionCategoryForm />}
            />
            <Route
              path="/admin/trainer-management"
              element={<TrainerTable />}
            />
            <Route
              path="/admin/session-category/:id/manage"
              element={<ManageSessionCategory />}
            />
            <Route
              path="/admin/session-category/:id/manage/event"
              element={<EventTablePage />}
            />
            <Route path="/profile" element={<ProfilePage />} />
          </Route> */}
//  application.jsx admin route 

// import { useEffect, useState } from "react";
// import { useNavigate } from "react-router";
// import ScrollableTable from "../../../components/table/ScrollableTable";
// import { BASE_URL } from "../../../utils/constants";
// import { approveTrainer, deleteTrainer, fetchAllTrainers } from "./trainerApi";
// // import {
// //   fetchAllTrainers,
// //   approveTrainer,
// //   deleteTrainer,
// // } from "../../../services/trainerService"; // Adjust path accordingly

// /**
//  * TrainerTable Component
//  *
//  * Displays a list of trainers with options to approve, edit, view, or delete.
//  * Utilizes a ScrollableTable component for displaying data in a scrollable area.
//  * 
//  * API interactions are abstracted to a service layer for cleaner separation of concerns.
//  */
// const TrainerTable = () => {
//   const [trainers, setTrainers] = useState([]);
//   const [loading, setLoading] = useState(false);
//   const [error, setError] = useState("");
//   const navigate = useNavigate();

//   /**
//    * Fetches trainer profiles from the backend.
//    * Handles loading and error states accordingly.
//    */
//   const loadTrainers = async () => {
//     setLoading(true);
//     setError("");

//     try {
//       const data = await fetchAllTrainers();
//       setTrainers(data);
//     } catch (err) {
//       console.error("Failed to fetch trainers:", err);
//       setError("Failed to fetch trainers.");
//     } finally {
//       setLoading(false);
//     }
//   };

//   // Load trainers on component mount
//   useEffect(() => {
//     loadTrainers();
//   }, []);

//   /**
//    * Approves a trainer and refreshes the trainers list.
//    * @param {string} trainerId
//    */
//   const handleApprove = async (trainerId) => {
//     try {
//       await approveTrainer(trainerId);
//       await loadTrainers();
//     } catch (err) {
//       console.error("Error approving trainer:", err);
//       alert("Failed to approve trainer.");
//     }
//   };

//   /**
//    * Deletes a trainer after user confirmation and refreshes the trainers list.
//    * @param {string} trainerId
//    */
//   const handleDelete = async (trainerId) => {
//     // if (!window.confirm("Are you sure you want to delete this trainer?")) return;

//     if (typeof window !== "undefined") {
//     const confirmed = window.confirm("Are you sure you want to delete this trainer?");
//     if (!confirmed) return;


//     try {
//       await deleteTrainer(trainerId);
//       await loadTrainers();
//     } catch (err) {
//       console.error("Error deleting trainer:", err);
//       alert("Failed to delete trainer.");
//     }
//   }
//   };

//   // Define table columns including custom renderers for profile images and actions
// const columns = [
//   {
//     header: "Profile",
//     accessor: (row) => (
//       row.profilePhotoTrainer ? (
//         <img
//           src={`${BASE_URL}/uploads/trainer/trainer-profilephoto/${row.profilePhotoTrainer}`}
//           alt={row.fullName}
//           className="w-12 h-12 rounded-full object-cover"
//         />
//       ) : (
//         <div className="w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center text-gray-500">
//           N/A
//         </div>
//       )
//     ),
//   },
//   { header: "Name", accessor: "fullName" },
//   { header: "Title", accessor: "title" },
//   { header: "Qualification", accessor: "highestQualification" },
//   {
//     header: "Experience",
//     accessor: "totalExperience",
//   },
//   {
//     header: "Email",
//     accessor: (row) => (
//       <a href={`mailto:${row.email}`} className="text-blue-600 hover:underline">
//         {row.email}
//       </a>
//     ),
//   },
//   {
//     header: "Mobile No",
//     accessor: "mobileNo",
//   },
//   {
//     header: "Location",
//     accessor: (row) => {
//       const { add1, add2, taluka, dist, state, pincode } = row.address || {};
//       return (
//         <div title={`${add1}, ${add2}, ${taluka}, ${dist}, ${state} - ${pincode}`}>
//           {add1}, {add2}, {taluka}
//         </div>
//       );
//     },
//   },
//   {
//     header: "Resume",
//     accessor: (row) =>
//       row.resume ? (
//         <a
//           href={`${BASE_URL}/uploads/trainer/trainer-resume/${row.resume}`}
//           target="_blank"
//           rel="noopener noreferrer"
//           className="text-blue-700 underline text-sm"
//           download
//         >
//           Download
//         </a>
//       ) : (
//         "N/A"
//       ),
//   },
//   {
//     header: "LinkedIn",
//     accessor: (row) =>
//       row.linkedinProfile ? (
//         <a
//           href={row.linkedinProfile.trim()}
//           target="_blank"
//           rel="noopener noreferrer"
//           className="text-blue-700 underline text-sm"
//         >
//           Profile
//         </a>
//       ) : (
//         "N/A"
//       ),
//   },
//   {
//     header: "Certifications",
//     accessor: (row) =>
//       row.certifications && row.certifications.length > 0
//         ? `${row.certifications.length} certifications`
//         : "None",
//   },
//   {
//     header: "Status",
//     accessor: (row) =>
//       row.isApproved || row.approvalStatus === "approved" ? (
//         <span className="text-green-600 font-medium">Approved</span>
//       ) : (
//         <button
//           onClick={() => handleApprove(row._id)}
//           className="px-3 py-1 bg-green-500 text-white text-xs rounded hover:bg-green-600"
//         >
//           Approve
//         </button>
//       ),
//   },
//   {
//     header: "Actions",
//     accessor: (row) => (
//       <div className="flex space-x-2">
//         <button
//           onClick={() => alert(`Viewing: ${row.fullName}`)}
//           className="text-blue-600 hover:underline text-sm"
//         >
//           View
//         </button>

//         <button
//           onClick={() => navigate(`/admin/trainers/update/${row._id}`)}
//           className="text-yellow-600 hover:underline text-sm"
//         >
//           Edit
//         </button>

//         <button
//           onClick={() => handleDelete(row._id)}
//           className="text-red-600 hover:underline text-sm"
//         >
//           Delete
//         </button>
//       </div>
//     ),
//   },
// ];



//   return (
//     <div className="p-6 bg-gradient-to-r from-blue-100 via-blue-200 to-pink-100">
//       <h2 className="text-2xl font-bold text-black flex justify-center text-center mb-4">All Trainers</h2>

//       {loading ? (
//         <p>Loading...</p>
//       ) : error ? (
//         <p className="text-red-500">{error}</p>
//       ) : (
//         <ScrollableTable columns={columns} data={trainers} maxHeight="500px" />
//       )}
//     </div>
//   );
// };

// export default TrainerTable;
// working trainer table 



// import React from "react";

// const ScrollableTable = ({ columns = [], data = [], maxHeight = "600px" }) => {
//   return (
//     <div className="w-full max-w-7xl mx-auto bg-white rounded-xl shadow-lg border-2 border-indigo-300 overflow-hidden">
//       {/* Scrollable container */}
//       <div
//         className="overflow-y-auto scrollbar-thin scrollbar-thumb-indigo-500 scrollbar-track-indigo-100"
//         style={{ maxHeight }}
//       >
//         <table className="w-full border-collapse text-sm text-left min-w-full">
//           {/* Sticky Header */}
//           <thead className="sticky top-0 bg-indigo-50 text-indigo-900 z-10 shadow-sm">
//             <tr>
//               {columns.map((col, index) => (
//                 <th
//                   key={index}
//                   className="px-6 py-4 font-semibold text-sm uppercase tracking-wider"
//                 >
//                   {col.header}
//                 </th>
//               ))}
//             </tr>
//           </thead>

//           {/* Table Body */}
//           <tbody className="divide-y divide-indigo-100">
//             {data.length > 0 ? (
//               data.map((row, rowIndex) => (
//                 <tr
//                   key={rowIndex}
//                   className={`${
//                     rowIndex % 2 === 0 ? "bg-white" : "bg-indigo-50"
//                   } hover:bg-indigo-100 transition-colors duration-300`}
//                 >
//                   {columns.map((col, colIndex) => (
//                     <td
//                       key={colIndex}
//                       className={`px-6 py-4 text-indigo-700 whitespace-nowrap ${
//                         colIndex === 0
//                           ? "font-semibold text-indigo-900"
//                           : "font-normal"
//                       }`}
//                     >
//                       {typeof col.accessor === "function"
//                         ? col.accessor(row)
//                         : row[col.accessor]}
//                     </td>
//                   ))}
//                 </tr>
//               ))
//             ) : (
//               <tr>
//                 <td
//                   colSpan={columns.length}
//                   className="px-6 py-8 text-center text-indigo-400 italic"
//                 >
//                   No data available
//                 </td>
//               </tr>
//             )}
//           </tbody>
//         </table>
//       </div>
//     </div>
//   );
// };

// export default ScrollableTable;

// scrollable table component 

// import ReactDOM from "react-dom";

// const Modal = ({ isOpen, onClose, title, children }) => {
//   if (!isOpen) return null;

//   return ReactDOM.createPortal(
//     <div className="fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-lg bg-opacity-50">
//       <div className="bg-white rounded-lg shadow-xl w-full max-w-lg relative p-6">
//         <button
//           onClick={onClose}
//           className="absolute top-2 right-3 text-gray-500 hover:text-gray-700 text-lg font-bold"
//         >
//           √ó
//         </button>
//         {title && <h2 className="text-lg font-semibold mb-4">{title}</h2>}
//         <div className="overflow-y-auto max-h-[70vh]">
//           {children}
//         </div>
//       </div>
//     </div>,
//     document.body
//   );
// };

// export default Modal;

// Modal component 

// import { useState } from "react";
// import { NavLink } from "react-router-dom";
// import {
//   FaBook,
//   FaChalkboardTeacher,
//   FaClipboardList,
//   FaUsers,
//   FaVideo,
//   FaImage,
//   FaCogs,
//   FaChevronDown,
//   FaChevronUp,
// } from "react-icons/fa";
// import { HiOutlineUserGroup } from "react-icons/hi";

// const menuItems = [
//   {
//     label: "Dashboard",
//     path: "/admin/dashboard",
//     icon: <FaUsers />,
//   },
//   {
//     label: "User Management",
//     path: "/admin/users",
//     icon: <FaUsers />,
//   },
//   {
//     label: "Book Session - Upskilling",
//     path: "/admin/book-session",
//     icon: <FaChalkboardTeacher />,
//   },
//   {
//     label: "Course Management",
//     icon: <FaBook />,
//     children: [
//       { label: "Courses", icon: <FaBook />, path: "/admin/courses" },
//       // { label: "Videos", icon: <FaVideo />, path: "/admin/add-course-videos" },
//         {
//         label: "Lectures",
//         icon: <FaVideo />,
//         children: [
//           {
//             label: "Add Lectures",
//             icon: <FaBook />,
//             path: "/admin/add-course-videos",
//           },
//           {
//             label: "Manage Lectures",
//             icon: <FaBook />,
//             path: "/admin/manage-course-videos",
//           },
//         ],
//       },

//       {
//         label: "Curriculum",
//         icon: <FaBook />,
//         children: [
//           {
//             label: "Add Curriculum",
//             icon: <FaBook />,
//             path: "/admin/add-curriculum",
//           },
//           {
//             label: "Manage Curriculum",
//             icon: <FaBook />,
//             path: "/admin/manage-curriculum",
//           },
//         ],
//       },
//           {
//         label: "Batches",
//         icon: <FaBook />,
//         children: [
//           {
//             label: "Add Batch",
//             icon: <FaBook />,
//             path: "/admin/add-batch",
//           },
//           {
//             label: "Manage Batches",
//             icon: <FaBook />,
//             path: "/admin/manage-batches",
//           },
//         ],
//       },
//         {
//         label: "Assignments",
//         icon: <FaBook />,
//         children: [
//           {
//             label: "Add Assignments",
//             icon: <FaBook />,
//             path: "/admin/add-assignment",
//           },
//           {
//             label: "Manage Assignments",
//             icon: <FaBook />,
//             path: "/admin/manage-assignments",
//           },
//         ],
//       },

//       {
//         label: "Notes",
//         icon: <FaVideo />,
//         children: [
//           {
//             label: "Add Notes",
//             icon: <FaBook />,
//             path: "/admin/add-notes",
//           },
//           {
//             label: "Manage Notes",
//             icon: <FaBook />,
//             path: "/admin/manage-notes",
//           },
//         ],
//       },
//       // { label: "Batches", icon: <FaUsers />, path: "/admin/manage-batches" },
//       { label: "Images", icon: <FaImage />, path: "/admin/courses/1/images" },
//       {
//         label: "Settings",
//         icon: <FaCogs />,
//         path: "/admin/courses/1/settings",
//       },
//     ],
//   },
//   {
//     label: "Enrollment Overview",
//     path: "/admin/enrollments",
//     icon: <FaClipboardList />,
//   },
//   {
//     label: "Trainer Management",
//     path: "/admin/trainer-management",
//     icon: <HiOutlineUserGroup />,
//   },
// ];

// const SidebarMenuItem = ({ item, expandedMenus, toggleSubmenu, level = 0 }) => {
//   const isActiveMenu = expandedMenus.includes(item.label);
//   const paddingLeft = `${level * 16 + 16}px`;

//   if (item.children) {
//     return (
//       <div>
//         <button
//           onClick={() => toggleSubmenu(item.label)}
//           className={`w-full flex items-center justify-between gap-3 py-2 rounded-lg text-sm font-medium transition`}
//           style={{ paddingLeft }}
//         >
//           <div className="flex items-center gap-3">
//             <span className="text-lg">{item.icon}</span>
//             {item.label}
//           </div>
//           {isActiveMenu ? <FaChevronUp /> : <FaChevronDown />}
//         </button>

//         {isActiveMenu && (
//           <div className="mt-1 flex flex-col gap-1">
//             {item.children.map((child, idx) => (
//               <SidebarMenuItem
//                 key={idx}
//                 item={child}
//                 expandedMenus={expandedMenus}
//                 toggleSubmenu={toggleSubmenu}
//                 level={level + 1}
//               />
//             ))}
//           </div>
//         )}
//       </div>
//     );
//   }

//   return (
//     <NavLink
//       to={item.path}
//       className={({ isActive }) =>
//         `flex items-center gap-3 py-2 rounded-lg text-sm font-medium transition ${
//           isActive
//             ? "bg-indigo-100 text-indigo-700"
//             : "text-gray-700 hover:bg-gray-100"
//         }`
//       }
//       style={{ paddingLeft }}
//     >
//       <span className="text-lg">{item.icon}</span>
//       {item.label}
//     </NavLink>
//   );
// };

// const AdminSidebar = () => {
//   const [expandedMenus, setExpandedMenus] = useState([]);

//   const toggleSubmenu = (label) => {
//     setExpandedMenus((prev) =>
//       prev.includes(label)
//         ? prev.filter((l) => l !== label)
//         : [...prev, label]
//     );
//   };

//   return (
//     <div className="w-64 min-h-screen bg-white border-r shadow-sm">
//       <div className="px-6 py-5 border-b">
//         <h2 className="text-xl font-bold text-indigo-600">Admin Panel</h2>
//       </div>

//       <nav className="mt-4 flex flex-col gap-1 px-2">
//         {menuItems.map((item, index) => (
//           <SidebarMenuItem
//             key={index}
//             item={item}
//             expandedMenus={expandedMenus}
//             toggleSubmenu={toggleSubmenu}
//           />
//         ))}
//       </nav>
//     </div>
//   );
// };

// export default AdminSidebar;
// admin sidemenu 

// import { useState } from "react";
// import { Link, useNavigate } from "react-router-dom";
// import { useAuth } from "../../contexts/AuthContext.jsx";
// const RegisterForm = () => {
//   const [formData, setFormData] = useState({
//     firstName: "",
//     lastName: "",
//     email: "",
//     password: "",
//     confirmPassword: "",
//     // branchId: "",
//   });
//   const [branches, setBranches] = useState([]);
//   // const [idCardImage, setIdCardImage] = useState(null);
//   // const [faceImage, setFaceImage] = useState(null);

//   const [error, setError] = useState("");
//   const [loading, setLoading] = useState(false);
//   const { register } = useAuth();
//   const navigate = useNavigate();

//   // useEffect(() => {
//   //   const loadBranches = async () => {
//   //     try {
//   //       const fetchedBranches = await fetchBranches();
//   //       setBranches(fetchedBranches || []);
//   //     } catch (err) {
//   //       setError("Failed to load branches.");
//   //     }
//   //   };
//   //   loadBranches();
//   // }, []);

//   const { firstName, lastName, email, password, confirmPassword } =
//     formData;

//   const onChange = (e) =>
//     setFormData({ ...formData, [e.target.name]: e.target.value });

//   // const handleIdCardChange = (e) => {
//   //     if (e.target.files && e.target.files[0]) {
//   //         setIdCardImage(e.target.files[0]);
//   //     }
//   // };

//   // const handleFaceCaptured = (imageDataUrl) => {
//   //     setFaceImage(imageDataUrl);
//   // };

//   const handleSubmit = async (e) => {
//     e.preventDefault();
//     setError("");

//     if (password !== confirmPassword) return setError("Passwords do not match");
//     // if (password.length < 6)
//     //   return setError("Password must be at least 6 characters long.");
//     // if (!branchId) return setError("Please select your branch.");
//     // if (!idCardImage) return setError('Please upload your ID card.');
//     // if (!faceImage) return setError('Please capture your face image.');

//     setLoading(true);

//   const registrationData = {
//   firstName,
//   lastName,
//   email,
//   password,
// };

//     registrationData.append("firstName", firstName);
//     registrationData.append("lastName", lastName);
//     registrationData.append("email", email);
//     registrationData.append("password", password);
//     // registrationData.append("branchId", branchId);
//     // registrationData.append('idCardImage', idCardImage);
//     // registrationData.append('faceImageBase64', faceImage);

//     try {
//       const response = await register(registrationData);
//       if (response.success) {
//         alert(
//           response.message ||
//             "Registration successful! Please check your email to verify."
//         );
//         navigate("/login");
//       } else {
//         setError(response.message || "Registration failed.");
//       }
//     } catch (err) {
//       setError(
//         err.response?.data?.message ||
//           err.message ||
//           "An unexpected error occurred."
//       );
//     }
//     setLoading(false);
//   };

//   return (
//  <div className="min-h-screen flex items-center justify-center px-4 py-7">
//   <form
//     onSubmit={handleSubmit}
//     encType="multipart/form-data"
//     className="w-full max-w-3xl bg-white backdrop-blur-lg border border-slate-200 rounded-3xl shadow-2xl p-10 md:p-14 space-y-8 transition-all"
//   >
//     <h2 className="text-2xl md:text-2xl font-bold text-slate-700 text-center mb-4">
//       Register to LMS
//     </h2>

//     {error && (
//       <div className="bg-red-100 text-red-700 px-4 py-3 rounded-lg shadow text-sm">
//         {error}
//       </div>
//     )}

//     {/* Name */}
//     <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
//       <div>
//         <label className="block text-sm font-medium text-slate-700 mb-1">
//           First Name
//         </label>
//         <input
//           type="text"
//           id="firstName"
//           name="firstName"
//           value={firstName}
//           onChange={onChange}
//           placeholder="John"
//           className="w-full px-4 py-3 bg-slate-100 border border-slate-300 text-slate-800 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-400"
//           required
//         />
//       </div>

//       <div>
//         <label className="block text-sm font-medium text-slate-700 mb-1">
//           Last Name
//         </label>
//         <input
//           type="text"
//           id="lastName"
//           name="lastName"
//           value={lastName}
//           onChange={onChange}
//           placeholder="Doe"
//           className="w-full px-4 py-3 bg-slate-100 border border-slate-300 text-slate-800 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-400"
//           required
//         />
//       </div>
//     </div>

//     {/* Email */}
//     <div>
//       <label className="block text-sm font-medium text-slate-700 mb-1">
//         Email
//       </label>
//       <input
//         type="email"
//         id="email"
//         name="email"
//         value={email}
//         onChange={onChange}
//         placeholder="you@example.com"
//         className="w-full px-4 py-3 bg-slate-100 border border-slate-300 text-slate-800 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-400"
//         required
//       />
//     </div>

//     {/* Passwords */}
//     <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
//       <div>
//         <label className="block text-sm font-medium text-slate-700 mb-1">
//           Password
//         </label>
//         <input
//           type="password"
//           id="password"
//           name="password"
//           value={password}
//           onChange={onChange}
//           placeholder="Enter password"
//           className="w-full px-4 py-3 bg-slate-100 border border-slate-300 text-slate-800 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-400"
//           required
//         />
//       </div>

//       <div>
//         <label className="block text-sm font-medium text-slate-700 mb-1">
//           Confirm Password
//         </label>
//         <input
//           type="password"
//           id="confirmPassword"
//           name="confirmPassword"
//           value={confirmPassword}
//           onChange={onChange}
//           placeholder="Re-enter password"
//           className="w-full px-4 py-3 bg-slate-100 border border-slate-300 text-slate-800 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-400"
//           required
//         />
//       </div>
//     </div>

//     {/* Branch */}
//     {/* <div>
//       <label className="block text-sm font-medium text-slate-700 mb-1">
//         Select Branch
//       </label>
//       <select
//         id="branchId"
//         name="branchId"
//         value={branchId}
//         onChange={onChange}
//         required
//         className="w-full px-4 py-3 bg-slate-100 border border-slate-300 text-slate-800 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-violet-400"
//       >
//         <option value="" disabled>-- Select your branch --</option>
//         {branches.map((b) => (
//           <option key={b._id} value={b._id}>
//             {b.name}
//           </option>
//         ))}
//       </select>
//     </div> */}

//     {/* Submit */}
//     <button
//       type="submit"
//       className="w-full py-3 rounded-xl bg-violet-600 text-white font-semibold text-lg hover:bg-violet-700 transition-all duration-300 shadow-lg"
//       disabled={loading}
//     >
//       {loading ? "Registering..." : "Register"}
//     </button>

//     {/* Login Link */}
//     <p className="text-center text-slate-600 text-sm mt-6">
//       Already have an account?{" "}
//       <Link to="/login" className="text-violet-700 font-semibold hover:underline">
//         Login here
//       </Link>
//     </p>
//   </form>
// </div>

// );

// };

// export default RegisterForm;
// admin registration form 

// import { useEffect, useState } from "react";
// import { fetchAllUsersAdmin } from "../../api/admin.js";
// import { useAuth } from "../../contexts/AuthContext.jsx";
// import ScrollableTable from "../table/ScrollableTable.jsx";

// const UserList = () => {
//   const [users, setUsers] = useState([]);
//   const [error, setError] = useState("");
//   const [loading, setLoading] = useState(true);
//   const { token } = useAuth();

//   // Fetch all users for admin side

//   const loadUsers = async () => {
//     setLoading(true); // Start loading
//     try {
//       const fetchedUsers = await fetchAllUsersAdmin(token);
//       setUsers(fetchedUsers || []);
//       setError(""); // Clear any previous errors
//     } catch (err) {
//       setError("Failed to load users."); // Display error message
//       console.error("Error fetching users:", err);
//     }
//     setLoading(false); // Done loading
//   };

//   // triggers user data fetching whenever token changes
//   useEffect(() => {
//     if (token) {
//       loadUsers();
//     }
//   }, [token]);

//   // Define table columns with headers and accessors for user data
//   const columns = [
//     {
//       header: "Name",
//       accessor: (user) => `${user.firstName} ${user.lastName}`,
//     },
//     {
//       header: "Email",
//       accessor: "email",
//     },
//     {
//       header: "Role",
//       accessor: (user) =>
//         user.role.charAt(0).toUpperCase() + user.role.slice(1),
//     },
//   ];

//   // Render loading state UI
//   if (loading) {
//     return (
//       <div className="flex justify-center items-center min-h-screen">
//         <p className="text-lg text-gray-600 animate-pulse">Loading users...</p>
//       </div>
//     );
//   }

//   // Render error state UI
//   if (error) {
//     return (
//       <div className="flex justify-center items-center min-h-screen">
//         <p className="text-lg text-red-500">{error}</p>
//       </div>
//     );
//   }

//   return (
//     <div className="max-h-[700px] p-8 bg-gradient-to-r from-pink-200 via-blue-300 to-blue-200">
//       <div className="max-w-7xl mx-auto">
//         {/* Header Section */}
//         <header className="relative z-50 flex items-center justify-between px-6 py-5 bg-white border-b border-indigo-200">
//           <h1 className="text-3xl font-extrabold text-indigo-900 tracking-wide">
//             User Management
//           </h1>
//         </header>

//         {/* show message if no users, else show table */}
//         <div>
//           {users.length === 0 ? (
//             <p className="text-center text-gray-500 py-12 text-lg italic">
//               No users found.
//             </p>
//           ) : (
//             <ScrollableTable columns={columns} data={users} maxHeight="600px" />
//           )}
//         </div>
//       </div>
//     </div>
//   );
// };

// export default UserList;
// user list admin 

// import React, { useState, useEffect } from "react";
// import { useFormik, FormikProvider } from "formik";
// import * as Yup from "yup";
// import { useParams, useNavigate } from "react-router-dom";
// import apiClient from "../../../api/axiosConfig";

// export default function AddNotes() {
//   const { noteId } = useParams(); // get noteId from URL (for edit mode)
//   const navigate = useNavigate();

//   const [availableChapters, setAvailableChapters] = useState([]);
//   const [loading, setLoading] = useState(false);

//   // ‚úÖ Fetch chapters for dropdown
//   useEffect(() => {
//     const fetchChapters = async () => {
//       try {
//         const res = await apiClient.get("/api/chapters");
//         setAvailableChapters(res.data?.data || []);
//       } catch (err) {
//         console.error("Error fetching chapters:", err);
//       }
//     };
//     fetchChapters();
//   }, []);

//   // ‚úÖ Setup Formik
//   const formik = useFormik({
//     initialValues: {
//       chapter: "",
//       title: "",
//       content: "",
//       type: "",
//       duration: "",
//       file: null,
//     },
//     validationSchema: Yup.object({
//       chapter: Yup.string().required("Chapter is required"),
//       title: Yup.string().required("Title is required"),
//       content: Yup.string().required("Content is required"),
//       type: Yup.string().required("Type is required"),
//       duration: Yup.string().required("Duration is required"),
//     }),
//     onSubmit: async (values, { resetForm }) => {
//       try {
//         const formData = new FormData();
//         formData.append("chapter", values.chapter);
//         formData.append("title", values.title);
//         formData.append("content", values.content);
//         formData.append("type", values.type);
//         formData.append("duration", values.duration);
//         if (values.file) formData.append("file", values.file);

//         if (noteId) {
//           // ‚úÖ Update existing note
//           await apiClient.put(`/api/notes/${noteId}`, formData, {
//             headers: { "Content-Type": "multipart/form-data" },
//           });
//           alert("Note updated successfully!");
//         } else {
//           // ‚úÖ Create new note
//           await apiClient.post("/api/notes", formData, {
//             headers: { "Content-Type": "multipart/form-data" },
//           });
//           alert("Note created successfully!");
//         }

//         resetForm();
//         navigate("/admin/manage-notes");
//       } catch (error) {
//         console.error(error);
//         alert(
//           "Failed to submit note: " +
//             (error.response?.data?.message || error.message)
//         );
//       }
//     },
//   });

//   // ‚úÖ Prefill form if editing
//   useEffect(() => {
//     if (!noteId) return;

//     const fetchNote = async () => {
//       setLoading(true);
//       try {
//         const res = await apiClient.get(`/api/notes/${noteId}`);
//         if (res.data) {
//           const note = res.data;
//           formik.setValues({
//             chapter: note.chapter?._id || note.chapter || "",
//             title: note.title || "",
//             content: note.content || "",
//             type: note.type || "",
//             duration: note.duration || "",
//             file: null,
//           });
//         } else {
//           alert("Note not found");
//           navigate("/admin/manage-notes");
//         }
//       } catch (err) {
//         console.error(err);
//         alert("Failed to fetch note details");
//         navigate("/admin/manage-notes");
//       } finally {
//         setLoading(false);
//       }
//     };

//     fetchNote();
//   }, [noteId]);

//   if (loading) return <p className="text-center mt-10">Loading note...</p>;

//   return (
//     <FormikProvider value={formik}>
//       <form
//         onSubmit={formik.handleSubmit}
//         className="space-y-6 p-6 bg-white rounded-xl shadow-md max-w-xl mx-auto"
//       >
//         <h2 className="text-2xl font-bold mb-4 text-blue-700">
//           {noteId ? "Edit Note" : "Add Note"}
//         </h2>

//         {/* ‚úÖ Chapter Dropdown */}
//         <div>
//           <label className="block font-medium mb-1">Chapter</label>
//           <select
//             name="chapter"
//             value={formik.values.chapter}
//             onChange={formik.handleChange}
//             onBlur={formik.handleBlur}
//             className="w-full border rounded-lg px-4 py-2"
//           >
//             <option value="">Select Chapter</option>
//             {availableChapters.map((ch) => (
//               <option key={ch._id} value={ch._id}>
//                 {ch.title}
//               </option>
//             ))}
//           </select>
//           {formik.touched.chapter && formik.errors.chapter && (
//             <p className="text-red-500 text-sm">{formik.errors.chapter}</p>
//           )}
//         </div>

//         {/* ‚úÖ Title */}
//         <div>
//           <label className="block font-medium mb-1">Title</label>
//           <input
//             type="text"
//             name="title"
//             value={formik.values.title}
//             onChange={formik.handleChange}
//             onBlur={formik.handleBlur}
//             className="w-full border rounded-lg px-4 py-2"
//           />
//           {formik.touched.title && formik.errors.title && (
//             <p className="text-red-500 text-sm">{formik.errors.title}</p>
//           )}
//         </div>

//         {/* ‚úÖ Content */}
//         <div>
//           <label className="block font-medium mb-1">Content</label>
//           <textarea
//             name="content"
//             value={formik.values.content}
//             onChange={formik.handleChange}
//             onBlur={formik.handleBlur}
//             rows={4}
//             className="w-full border rounded-lg px-4 py-2"
//           />
//           {formik.touched.content && formik.errors.content && (
//             <p className="text-red-500 text-sm">{formik.errors.content}</p>
//           )}
//         </div>

//         {/* ‚úÖ Type */}
//         <div>
//           <label className="block font-medium mb-1">Type</label>
//           <input
//             type="text"
//             name="type"
//             value={formik.values.type}
//             onChange={formik.handleChange}
//             onBlur={formik.handleBlur}
//             placeholder="e.g., article, pdf, ppt"
//             className="w-full border rounded-lg px-4 py-2"
//           />
//           {formik.touched.type && formik.errors.type && (
//             <p className="text-red-500 text-sm">{formik.errors.type}</p>
//           )}
//         </div>

//         {/* ‚úÖ Duration */}
//         <div>
//           <label className="block font-medium mb-1">Duration</label>
//           <input
//             type="text"
//             name="duration"
//             value={formik.values.duration}
//             onChange={formik.handleChange}
//             onBlur={formik.handleBlur}
//             placeholder="e.g., 15:30"
//             className="w-full border rounded-lg px-4 py-2"
//           />
//           {formik.touched.duration && formik.errors.duration && (
//             <p className="text-red-500 text-sm">{formik.errors.duration}</p>
//           )}
//         </div>

//         {/* ‚úÖ File Upload */}
//         <div>
//           <label className="block font-medium mb-1">
//             Upload File (.pdf, .ppt, .docx)
//           </label>
//           <input
//             type="file"
//             accept=".ppt,.pdf,.docx"
//             onChange={(e) =>
//               formik.setFieldValue("file", e.currentTarget.files[0])
//             }
//             className="w-full"
//           />
//         </div>

//         {/* ‚úÖ Submit */}
//         <button
//           type="submit"
//           className="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition"
//         >
//           {noteId ? "Update Note" : "Submit Note"}
//         </button>
//       </form>
//     </FormikProvider>
//   );
// }

// add notes form admin 

// import React, { useState, useEffect } from 'react';
// import { useFormik, FormikProvider } from 'formik';
// import * as Yup from 'yup';
// import apiClient from '../../../api/axiosConfig';
// // import apiClient from '../utils/apiClient'; // adjust path

// export default function AddLectures() {
//   const [availableChapters, setAvailableChapters] = useState([]);

//   // Fetch chapters
//   useEffect(() => {
//     const fetchChapters = async () => {
//       try {
//         const res = await apiClient.get('/api/chapters');
//         setAvailableChapters(res.data?.data || []);
//       } catch (err) {
//         console.error('Error fetching chapters:', err);
//       }
//     };
//     fetchChapters();
//   }, []);

//   const formik = useFormik({
//     initialValues: {
//       chapter: '',
//       title: '',
//       contentUrl: null, // for file
//       duration: '',
//       description: '',
//     },
//     validationSchema: Yup.object({
//       chapter: Yup.string().required('Chapter is required'),
//       title: Yup.string().required('Title is required'),
//       duration: Yup.string().required('Duration is required'),
//       description: Yup.string().required('Description is required'),
//     }),
//     onSubmit: async (values, { resetForm }) => {
//       try {
//         const formData = new FormData();
//         formData.append('chapter', values.chapter);
//         formData.append('title', values.title);
//         formData.append('duration', values.duration);
//         formData.append('description', values.description);
//         if (values.contentUrl) {
//           formData.append('contentUrl', values.contentUrl);
//         }

//         const res = await apiClient.post('/api/lectures', formData, {
//           headers: {
//             'Content-Type': 'multipart/form-data',
//           },
//         });

//         alert('Lecture created successfully!');
//         resetForm();
//       } catch (error) {
//         console.error(error);
//         alert('Failed to create lecture: ' + (error.response?.data?.message || error.message));
//       }
//     },
//   });

//   return (
//     <FormikProvider value={formik}>
//       <form onSubmit={formik.handleSubmit} className="space-y-6 p-6 bg-white rounded-xl shadow-md max-w-xl mx-auto">
//         <h2 className="text-2xl font-bold mb-4 text-blue-700">Add Lecture</h2>

//         {/* Chapter Dropdown */}
//         <div>
//           <label className="block font-medium mb-1">Chapter</label>
//           <select
//             name="chapter"
//             value={formik.values.chapter}
//             onChange={formik.handleChange}
//             onBlur={formik.handleBlur}
//             className="w-full border rounded-lg px-4 py-2"
//           >
//             <option value="">Select Chapter</option>
//             {availableChapters.map((ch) => (
//               <option key={ch._id} value={ch._id}>
//                 {ch.title}
//               </option>
//             ))}
//           </select>
//           {formik.touched.chapter && formik.errors.chapter && (
//             <p className="text-red-500 text-sm">{formik.errors.chapter}</p>
//           )}
//         </div>

//         {/* Title */}
//         <div>
//           <label className="block font-medium mb-1">Title</label>
//           <input
//             type="text"
//             name="title"
//             value={formik.values.title}
//             onChange={formik.handleChange}
//             onBlur={formik.handleBlur}
//             className="w-full border rounded-lg px-4 py-2"
//           />
//           {formik.touched.title && formik.errors.title && (
//             <p className="text-red-500 text-sm">{formik.errors.title}</p>
//           )}
//         </div>

//         {/* Duration */}
//         <div>
//           <label className="block font-medium mb-1">Duration (e.g., 30 min)</label>
//           <input
//             type="text"
//             name="duration"
//             value={formik.values.duration}
//             onChange={formik.handleChange}
//             onBlur={formik.handleBlur}
//             className="w-full border rounded-lg px-4 py-2"
//           />
//           {formik.touched.duration && formik.errors.duration && (
//             <p className="text-red-500 text-sm">{formik.errors.duration}</p>
//           )}
//         </div>

//         {/* Description */}
//         <div>
//           <label className="block font-medium mb-1">Description</label>
//           <textarea
//             name="description"
//             value={formik.values.description}
//             onChange={formik.handleChange}
//             onBlur={formik.handleBlur}
//             rows={4}
//             className="w-full border rounded-lg px-4 py-2"
//           />
//           {formik.touched.description && formik.errors.description && (
//             <p className="text-red-500 text-sm">{formik.errors.description}</p>
//           )}
//         </div>

//         {/* MP4 File Upload */}
//         <div>
//           <label className="block font-medium mb-1">Lecture Video (.mp4)</label>
//           <input
//             type="file"
//             accept="video/mp4"
//             onChange={(e) => formik.setFieldValue('contentUrl', e.currentTarget.files[0])}
//             className="w-full"
//           />
//         </div>

//         {/* Submit */}
//         <button
//           type="submit"
//           className="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition"
//         >
//           Submit Lecture
//         </button>
//       </form>
//     </FormikProvider>
//   );
// }

// add lecture form admin 

// import React, { useState, useEffect } from "react";
// import { useNavigate, useParams } from "react-router-dom";
// import { Formik, Form, Field, FieldArray, ErrorMessage } from "formik";
// import * as Yup from "yup";
// import Select from "react-select"; // ‚úÖ We'll use react-select for multi-select
// import { useAuth } from "../hooks/useAuth"; // adjust import
// import apiClient, { fetchAllTrainers } from "../api"; // adjust import

// const CourseForm = () => {
//   const [editCourseData, setEditCourseData] = useState(null);
//   const [isLoading, setIsLoading] = useState(false);
//   const [error, setError] = useState("");
//   const [success, setSuccess] = useState("");
//   const [trainers, setTrainers] = useState([]);
//   const { token } = useAuth();
//   const navigate = useNavigate();
//   const { id } = useParams();

//   const initialValues = {
//     title: "",
//     description: "",
//     duration: "",
//     rating: 0,
//     enrolledCount: 0,
//     overview: "",
//     learningOutcomes: [""],
//     benefits: [""],
//     features: {
//       certificate: false,
//       codingExercises: false,
//       recordedLectures: false,
//     },
//     isActive: true,
//     keyFeatures: [
//       {
//         title: "",
//         description: "",
//         subPoints: [""],
//       },
//     ],
//     fees: "",
//     trainer: [], // store trainer IDs
//   };

//   const getInitialValues = () => {
//     if (!editCourseData) return initialValues;
//     return {
//       ...initialValues,
//       ...editCourseData,
//       duration: editCourseData.duration || "",
//       rating: editCourseData.rating || 0,
//       enrolledCount: editCourseData.enrolledCount || 0,
//       overview: editCourseData.overview || "",
//       learningOutcomes: editCourseData.learningOutcomes || [""],
//       benefits: editCourseData.benefits || [""],
//       features: editCourseData.features || {
//         certificate: false,
//         codingExercises: false,
//         recordedLectures: false,
//       },
//       isActive: editCourseData.isActive ?? true,
//       keyFeatures:
//         editCourseData.keyFeatures?.length > 0
//           ? editCourseData.keyFeatures
//           : [
//               {
//                 title: "",
//                 description: "",
//                 subPoints: [""],
//               },
//             ],
//       trainer: editCourseData.trainer || [], // trainer IDs
//     };
//   };

//   const CourseSchema = Yup.object().shape({
//     title: Yup.string().required("Title is required"),
//     description: Yup.string().required("Description is required"),
//     duration: Yup.string().required("Duration is required"),
//     rating: Yup.number().min(0).max(5).required("Rating is required"),
//     enrolledCount: Yup.number().min(0).required("Enrolled count is required"),
//     overview: Yup.string().required("Overview is required"),
//     learningOutcomes: Yup.array().of(Yup.string().required("Required")),
//     benefits: Yup.array().of(Yup.string().required("Required")),
//     features: Yup.object({
//       certificate: Yup.boolean(),
//       codingExercises: Yup.boolean(),
//       recordedLectures: Yup.boolean(),
//     }),
//     keyFeatures: Yup.array().of(
//       Yup.object({
//         title: Yup.string().required("Title is required"),
//         description: Yup.string(),
//         subPoints: Yup.array().of(Yup.string().required("Sub-point required")),
//       })
//     ),
//     isActive: Yup.boolean(),
//     fees: Yup.string().required("Fees are required"),
//     trainer: Yup.array().min(1, "Please select at least one trainer"),
//   });

//   // Fetch trainers
//   useEffect(() => {
//     const getTrainers = async () => {
//       try {
//         const data = await fetchAllTrainers();
//         setTrainers(data);
//       } catch (err) {
//         console.error("Failed to fetch trainers:", err);
//       }
//     };
//     getTrainers();
//   }, []);

//   // Fetch course if editing
//   useEffect(() => {
//     if (!id) return;
//     const fetchCourse = async () => {
//       try {
//         const res = await apiClient.get(`/api/courses/${id}`, {
//           headers: { Authorization: `Bearer ${token}` },
//         });
//         setEditCourseData(res.data.data);
//       } catch (err) {
//         setError("Failed to load course for editing.");
//         console.error(err);
//       }
//     };
//     fetchCourse();
//   }, [id, token]);

//   const handleSubmit = async (values, { setSubmitting, resetForm }) => {
//     setError("");
//     setSuccess("");
//     setIsLoading(true);

//     try {
//       if (id && editCourseData) {
//         await apiClient.put(`/api/courses/${id}`, values, {
//           headers: { Authorization: `Bearer ${token}` },
//         });
//         setSuccess("Course updated successfully!");
//       } else {
//         await apiClient.post("/api/courses", values, {
//           headers: { Authorization: `Bearer ${token}` },
//         });
//         setSuccess("Course created successfully!");
//       }

//       resetForm();
//       navigate("/admin/courses");
//     } catch (err) {
//       setError(
//         err.response?.data?.message || err.message || "Operation failed."
//       );
//     }

//     setIsLoading(false);
//     setSubmitting(false);
//   };

//   return (
//     <div className="bg-white shadow-md rounded-lg p-8">
//       <div className="flex justify-between items-center mb-6">
//         <h2 className="text-2xl font-semibold text-indigo-600">
//           {id ? "Edit Course" : "Create New Course"}
//         </h2>
//         <button
//           type="button"
//           onClick={() => navigate("/admin/courses")}
//           className="px-4 py-2 bg-gray-400 text-white rounded hover:bg-gray-500"
//         >
//           Cancel
//         </button>
//       </div>

//       {error && (
//         <div className="mb-4 p-3 bg-red-100 text-red-700 border border-red-400 rounded">
//           {error}
//         </div>
//       )}

//       {success && (
//         <div className="mb-4 p-3 bg-green-100 text-green-700 border border-green-400 rounded">
//           {success}
//         </div>
//       )}

//       <Formik
//         enableReinitialize
//         initialValues={getInitialValues()}
//         validationSchema={CourseSchema}
//         onSubmit={handleSubmit}
//       >
//         {({ values, setFieldValue, isSubmitting }) => (
//           <Form className="space-y-6">
//             {/* Title */}
//             <div>
//               <label className="block text-sm font-medium text-gray-700 mb-1">
//                 Title <span className="text-red-500">*</span>
//               </label>
//               <Field
//                 name="title"
//                 className="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
//               />
//               <ErrorMessage
//                 name="title"
//                 component="div"
//                 className="text-xs text-red-500 mt-1"
//               />
//             </div>

//             {/* Trainer Multi-Select */}
//             <div>
//               <label className="block text-sm font-medium text-gray-700 mb-1">
//                 Trainers <span className="text-red-500">*</span>
//               </label>
//               <Select
//                 isMulti
//                 name="trainer"
//                 options={trainers.map((t) => ({
//                   value: t._id,
//                   label: t.fullName,
//                 }))}
//                 value={trainers
//                   .filter((t) => values.trainer.includes(t._id))
//                   .map((t) => ({ value: t._id, label: t.fullName }))}
//                 onChange={(selected) =>
//                   setFieldValue(
//                     "trainer",
//                     selected ? selected.map((s) => s.value) : []
//                   )
//                 }
//                 className="basic-multi-select"
//                 classNamePrefix="select"
//               />
//               <ErrorMessage
//                 name="trainer"
//                 component="div"
//                 className="text-xs text-red-500 mt-1"
//               />
//             </div>

//             {/* You can continue adding other fields like Description, Duration, Features, etc. */}

//             <div className="flex justify-between items-center pt-4">
//               <button
//                 type="submit"
//                 disabled={isSubmitting || isLoading}
//                 className="px-6 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 disabled:opacity-50"
//               >
//                 {editCourseData ? "Update Course" : "Create Course"}
//               </button>
//               <button
//                 type="button"
//                 onClick={() => navigate("/admin/courses")}
//                 className="px-6 py-2 bg-gray-400 text-white rounded hover:bg-gray-500"
//               >
//                 Cancel
//               </button>
//             </div>
//           </Form>
//         )}
//       </Formik>
//     </div>
//   );
// };

// export default CourseForm;


// import { useEffect, useState } from "react";
// import { Formik, Form, Field, FieldArray, ErrorMessage } from "formik";
// import * as Yup from "yup";
// import apiClient from "../../../api/axiosConfig.js";
// import { useAuth } from "../../../contexts/AuthContext.jsx";
// import { useNavigate, useParams } from "react-router-dom";
// import { fetchAllTrainers } from "../../../pages/admin/trainer-management/trainerApi.js";
// // import { fetchAllTrainers } from "../../../api/trainerApi.js";

// const CourseForm = () => {
//   const [editCourseData, setEditCourseData] = useState(null);
//   const [isLoading, setIsLoading] = useState(false);
//   const [error, setError] = useState("");
//   const [success, setSuccess] = useState("");
//   const [trainers, setTrainers] = useState([]);

//   const { token } = useAuth();
//   const navigate = useNavigate();
//   const { id } = useParams();

//   // üü¢ Fetch Trainers
//   useEffect(() => {
//     const getTrainers = async () => {
//       try {
//         const data = await fetchAllTrainers();
//         setTrainers(data);
//       } catch (err) {
//         console.error("Failed to fetch trainers:", err);
//       }
//     };
//     getTrainers();
//   }, []);

//   const initialValues = {
//     title: "",
//     description: "",
//     duration: "",
//     rating: 0,
//     enrolledCount: 0,
//     overview: "",
//     learningOutcomes: [""],
//     benefits: [""],
//     keyFeatures: [
//       {
//         title: "",
//         description: "",
//         subPoints: [""],
//       },
//     ],
//     features: {
//       certificate: false,
//       codingExercises: false,
//       recordedLectures: false,
//     },
//     fees: "",
//     trainer: [], // store trainer IDs
//     isActive: true,
//   };

//   const getInitialValues = () => {
//     if (!editCourseData) return initialValues;
//     return {
//       ...initialValues,
//       ...editCourseData,
//       trainer: editCourseData.trainer || [],
//     };
//   };

//   const CourseSchema = Yup.object().shape({
//     title: Yup.string().required("Title is required"),
//     description: Yup.string().required("Description is required"),
//     duration: Yup.string().required("Duration is required"),
//     rating: Yup.number().min(0).max(5).required("Rating is required"),
//     enrolledCount: Yup.number().min(0).required("Enrolled count is required"),
//     overview: Yup.string().required("Overview is required"),
//     fees: Yup.string().required("Fees are required"),
//     trainer: Yup.array().min(1, "Please select at least one trainer"),
//     learningOutcomes: Yup.array().of(Yup.string().required("Required")),
//     benefits: Yup.array().of(Yup.string().required("Required")),
//     keyFeatures: Yup.array().of(
//       Yup.object({
//         title: Yup.string().required("Title is required"),
//         description: Yup.string(),
//         subPoints: Yup.array().of(Yup.string().required("Sub-point required")),
//       })
//     ),
//     features: Yup.object({
//       certificate: Yup.boolean(),
//       codingExercises: Yup.boolean(),
//       recordedLectures: Yup.boolean(),
//     }),
//   });

//   const handleSubmit = async (values, { setSubmitting, resetForm }) => {
//     setError("");
//     setSuccess("");
//     setIsLoading(true);

//     try {
//       const payload = {
//         ...values,
//         trainer: values.trainer, // trainer IDs array
//       };

//       if (id && editCourseData) {
//         await apiClient.put(`/api/courses/${id}`, payload, {
//           headers: { Authorization: `Bearer ${token}` },
//         });
//         setSuccess("Course updated successfully!");
//       } else {
//         await apiClient.post("/api/courses", payload, {
//           headers: { Authorization: `Bearer ${token}` },
//         });
//         setSuccess("Course created successfully!");
//       }

//       resetForm();
//       navigate("/admin/courses");
//     } catch (err) {
//       setError(
//         err.response?.data?.message || err.message || "Operation failed."
//       );
//     } finally {
//       setIsLoading(false);
//       setSubmitting(false);
//     }
//   };

//   // üü¢ Fetch course if editing
//   useEffect(() => {
//     const fetchCourse = async () => {
//       if (!id) return;
//       try {
//         const res = await apiClient.get(`/api/courses/${id}`, {
//           headers: { Authorization: `Bearer ${token}` },
//         });
//         setEditCourseData(res.data.data);
//       } catch (err) {
//         setError("Failed to load course for editing.");
//         console.error(err);
//       }
//     };
//     fetchCourse();
//   }, [id, token]);

//   return (
//     <div className="bg-white shadow-md rounded-lg p-8">
//       <div className="flex justify-between items-center mb-6">
//         <h2 className="text-2xl font-semibold text-indigo-600">
//           {id ? "Edit Course" : "Create New Course"}
//         </h2>
//         <button
//           type="button"
//           onClick={() => navigate("/admin/courses")}
//           className="px-4 py-2 bg-gray-400 text-white rounded hover:bg-gray-500"
//         >
//           Cancel
//         </button>
//       </div>

//       {error && (
//         <div className="mb-4 p-3 bg-red-100 text-red-700 border border-red-400 rounded">
//           {error}
//         </div>
//       )}

//       {success && (
//         <div className="mb-4 p-3 bg-green-100 text-green-700 border border-green-400 rounded">
//           {success}
//         </div>
//       )}

//       <Formik
//         enableReinitialize
//         initialValues={getInitialValues()}
//         validationSchema={CourseSchema}
//         onSubmit={handleSubmit}
//       >
//         {({ values, isSubmitting, setFieldValue }) => (
//           <Form className="space-y-6">
//             {/* üè∑Ô∏è Title */}
//             <div>
//               <label className="block text-sm font-medium text-gray-700 mb-1">
//                 Title <span className="text-red-500">*</span>
//               </label>
//               <Field
//                 name="title"
//                 className="w-full px-3 py-2 border border-gray-300 rounded-md"
//               />
//               <ErrorMessage
//                 name="title"
//                 component="div"
//                 className="text-xs text-red-500 mt-1"
//               />
//             </div>

//             {/* üìÑ Description */}
//             <div>
//               <label className="block text-sm font-medium text-gray-700 mb-1">
//                 Description <span className="text-red-500">*</span>
//               </label>
//               <Field
//                 as="textarea"
//                 name="description"
//                 rows="3"
//                 className="w-full px-3 py-2 border border-gray-300 rounded-md"
//               />
//               <ErrorMessage
//                 name="description"
//                 component="div"
//                 className="text-xs text-red-500 mt-1"
//               />
//             </div>

//             {/* üìä Duration, Rating, Enrolled Count */}
//             <div className="grid grid-cols-1 sm:grid-cols-3 gap-4">
//               <div>
//                 <label className="block text-sm font-medium text-gray-700 mb-1">
//                   Duration <span className="text-red-500">*</span>
//                 </label>
//                 <Field
//                   name="duration"
//                   className="w-full px-3 py-2 border border-gray-300 rounded-md"
//                 />
//                 <ErrorMessage
//                   name="duration"
//                   component="div"
//                   className="text-xs text-red-500 mt-1"
//                 />
//               </div>
//               <div>
//                 <label className="block text-sm font-medium text-gray-700 mb-1">
//                   Rating <span className="text-red-500">*</span>
//                 </label>
//                 <Field
//                   type="number"
//                   name="rating"
//                   className="w-full px-3 py-2 border border-gray-300 rounded-md"
//                 />
//                 <ErrorMessage
//                   name="rating"
//                   component="div"
//                   className="text-xs text-red-500 mt-1"
//                 />
//               </div>
//               <div>
//                 <label className="block text-sm font-medium text-gray-700 mb-1">
//                   Enrolled Count <span className="text-red-500">*</span>
//                 </label>
//                 <Field
//                   type="number"
//                   name="enrolledCount"
//                   className="w-full px-3 py-2 border border-gray-300 rounded-md"
//                 />
//                 <ErrorMessage
//                   name="enrolledCount"
//                   component="div"
//                   className="text-xs text-red-500 mt-1"
//                 />
//               </div>
//             </div>

//             {/* üí∞ Fees */}
//             <div>
//               <label className="block text-sm font-medium text-gray-700 mb-1">
//                 Fees <span className="text-red-500">*</span>
//               </label>
//               <Field
//                 name="fees"
//                 type="text"
//                 placeholder="Enter course fees"
//                 className="w-full px-3 py-2 border border-gray-300 rounded-md"
//               />
//               <ErrorMessage
//                 name="fees"
//                 component="div"
//                 className="text-xs text-red-500 mt-1"
//               />
//             </div>

//             {/* üë®‚Äçüè´ Trainer Dropdown */}
//             <div>
//               <label className="block text-sm font-medium text-gray-700 mb-1">
//                 Select Trainer(s) <span className="text-red-500">*</span>
//               </label>
//               <select
//                 multiple
//                 value={values.trainer}
//                 onChange={(e) =>
//                   setFieldValue(
//                     "trainer",
//                     Array.from(e.target.selectedOptions, (opt) => opt.value)
//                   )
//                 }
//                 className="w-full px-3 py-2 border border-gray-300 rounded-md"
//               >
//                 {trainers.map((t) => (
//   <option key={t._id} value={t._id}>
//     {t.fullName}   // ‚úÖ use the correct field from API
//   </option>
// ))}

//               </select>
//               <p className="text-xs text-gray-500 mt-1">
//                 Hold Ctrl (Windows) or Cmd (Mac) to select multiple trainers.
//               </p>
//               <ErrorMessage
//                 name="trainer"
//                 component="div"
//                 className="text-xs text-red-500 mt-1"
//               />
//             </div>

//             {/* ‚úÖ Existing fields (Overview, Learning Outcomes, Benefits, Features, Key Features) remain unchanged */}
//             {/* You can keep the rest of your FieldArray code as it is */}

//             <div className="flex justify-between items-center pt-4">
//               <button
//                 type="submit"
//                 disabled={isSubmitting || isLoading}
//                 className="px-6 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 disabled:opacity-50"
//               >
//                 {editCourseData ? "Update Course" : "Create Course"}
//               </button>

//               <button
//                 type="button"
//                 onClick={() => navigate("/admin/courses")}
//                 className="px-6 py-2 bg-gray-400 text-white rounded hover:bg-gray-500"
//               >
//                 Cancel
//               </button>
//             </div>
//           </Form>
//         )}
//       </Formik>
//     </div>
//   );
// };

// export default CourseForm;
//  course form with fees and trainer 


  // return (
  //   <div className="bg-white shadow-md rounded-lg p-8">
  //     <div className="flex justify-between items-center mb-6">
  //       <h2 className="text-2xl font-semibold text-indigo-600">
  //         {id ? "Edit Course" : "Create New Course"}
  //       </h2>
  //       <button
  //         type="button"
  //         onClick={() => navigate("/admin/courses")}
  //         className="px-4 py-2 bg-gray-400 text-white rounded hover:bg-gray-500"
  //       >
  //         Cancel
  //       </button>
  //     </div>

  //     {error && (
  //       <div className="mb-4 p-3 bg-red-100 text-red-700 border border-red-400 rounded">
  //         {error}
  //       </div>
  //     )}

  //     {success && (
  //       <div className="mb-4 p-3 bg-green-100 text-green-700 border border-green-400 rounded">
  //         {success}
  //       </div>
  //     )}

  //     <Formik
  //       enableReinitialize
  //       initialValues={getInitialValues()}
  //       validationSchema={CourseSchema}
  //       onSubmit={handleSubmit}
  //     >
  //       {({ values, isSubmitting }) => (
  //         <Form className="space-y-6">
  //           <div>
  //             <label className="block text-sm font-medium text-gray-700 mb-1">
  //               Title <span className="text-red-500">*</span>
  //             </label>
  //             <Field
  //               name="title"
  //               className="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
  //             />
  //             <ErrorMessage
  //               name="title"
  //               component="div"
  //               className="text-xs text-red-500 mt-1"
  //             />
  //           </div>

  //           <div>
  //             <label className="block text-sm font-medium text-gray-700 mb-1">
  //               Description <span className="text-red-500">*</span>
  //             </label>
  //             <Field
  //               as="textarea"
  //               name="description"
  //               rows="3"
  //               className="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
  //             />
  //             <ErrorMessage
  //               name="description"
  //               component="div"
  //               className="text-xs text-red-500 mt-1"
  //             />
  //           </div>

  //           <div className="grid grid-cols-1 sm:grid-cols-3 gap-4">
  //             <div>
  //               <label className="block text-sm font-medium text-gray-700 mb-1">
  //                 Duration <span className="text-red-500">*</span>
  //               </label>
  //               <Field
  //                 name="duration"
  //                 className="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
  //               />
  //               <ErrorMessage
  //                 name="duration"
  //                 component="div"
  //                 className="text-xs text-red-500 mt-1"
  //               />
  //             </div>
  //             <div>
  //               <label className="block text-sm font-medium text-gray-700 mb-1">
  //                 Rating <span className="text-red-500">*</span>
  //               </label>
  //               <Field
  //                 type="number"
  //                 name="rating"
  //                 className="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
  //               />
  //               <ErrorMessage
  //                 name="rating"
  //                 component="div"
  //                 className="text-xs text-red-500 mt-1"
  //               />
  //             </div>
  //             <div>
  //               <label className="block text-sm font-medium text-gray-700 mb-1">
  //                 Enrolled Count <span className="text-red-500">*</span>
  //               </label>
  //               <Field
  //                 type="number"
  //                 name="enrolledCount"
  //                 className="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
  //               />
  //               <ErrorMessage
  //                 name="enrolledCount"
  //                 component="div"
  //                 className="text-xs text-red-500 mt-1"
  //               />
  //             </div>
  //           </div>

  //           <div>
  //             <label className="block text-sm font-medium text-gray-700 mb-1">
  //               Overview <span className="text-red-500">*</span>
  //             </label>
  //             <Field
  //               as="textarea"
  //               name="overview"
  //               rows="3"
  //               className="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"
  //             />
  //             <ErrorMessage
  //               name="overview"
  //               component="div"
  //               className="text-xs text-red-500 mt-1"
  //             />
  //           </div>

  //           <div>
  //             <label className="block text-sm font-medium text-gray-700 mb-1">
  //               Learning Outcomes
  //             </label>
  //             <FieldArray name="learningOutcomes">
  //               {({ push, remove }) => (
  //                 <div className="space-y-2">
  //                   {values.learningOutcomes.map((_, idx) => (
  //                     <div key={idx} className="flex gap-2">
  //                       <Field
  //                         name={`learningOutcomes[${idx}]`}
  //                         className="flex-1 px-3 py-2 border border-gray-300 rounded-md"
  //                       />
  //                       <button
  //                         type="button"
  //                         className="px-2 py-1 bg-red-500 text-white rounded"
  //                         onClick={() => remove(idx)}
  //                         disabled={values.learningOutcomes.length === 1}
  //                       >
  //                         -
  //                       </button>
  //                       {idx === values.learningOutcomes.length - 1 && (
  //                         <button
  //                           type="button"
  //                           className="px-2 py-1 bg-green-500 text-white rounded"
  //                           onClick={() => push("")}
  //                         >
  //                           +
  //                         </button>
  //                       )}
  //                     </div>
  //                   ))}
  //                 </div>
  //               )}
  //             </FieldArray>
  //           </div>

  //           <div>
  //             <label className="block text-sm font-medium text-gray-700 mb-1">
  //               Benefits
  //             </label>
  //             <FieldArray name="benefits">
  //               {({ push, remove }) => (
  //                 <div className="space-y-2">
  //                   {values.benefits.map((_, idx) => (
  //                     <div key={idx} className="flex gap-2">
  //                       <Field
  //                         name={`benefits[${idx}]`}
  //                         className="flex-1 px-3 py-2 border border-gray-300 rounded-md"
  //                       />
  //                       <button
  //                         type="button"
  //                         className="px-2 py-1 bg-red-500 text-white rounded"
  //                         onClick={() => remove(idx)}
  //                         disabled={values.benefits.length === 1}
  //                       >
  //                         -
  //                       </button>
  //                       {idx === values.benefits.length - 1 && (
  //                         <button
  //                           type="button"
  //                           className="px-2 py-1 bg-green-500 text-white rounded"
  //                           onClick={() => push("")}
  //                         >
  //                           +
  //                         </button>
  //                       )}
  //                     </div>
  //                   ))}
  //                 </div>
  //               )}
  //             </FieldArray>
  //           </div>

  //           <div>
  //             <h3 className="font-semibold text-lg mb-2">Features</h3>
  //             <label className="inline-flex items-center mr-4">
  //               <Field type="checkbox" name="features.certificate" />
  //               <span className="ml-2">Certificate</span>
  //             </label>
  //             <label className="inline-flex items-center mr-4">
  //               <Field type="checkbox" name="features.codingExercises" />
  //               <span className="ml-2">Coding Exercises</span>
  //             </label>
  //             <label className="inline-flex items-center">
  //               <Field type="checkbox" name="features.recordedLectures" />
  //               <span className="ml-2">Recorded Lectures</span>
  //             </label>
  //           </div>

  //           <div>
  //             <label className="inline-flex items-center">
  //               <Field type="checkbox" name="isActive" />
  //               <span className="ml-2">Active</span>
  //             </label>
  //           </div>

  //           {/* <div>
  //             <label className="block text-sm font-medium text-gray-700 mb-1">
  //               Instructor
  //             </label>
  //             <Field
  //               name="instructor"
  //               className="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"
  //             />
  //           </div> */}

  //           <div>
  //             <h3 className="font-semibold text-lg mb-2">Key Features</h3>
  //             <FieldArray name="keyFeatures">
  //               {({ push, remove }) => (
  //                 <div className="space-y-6">
  //                   {values.keyFeatures.map((feature, idx) => (
  //                     <div
  //                       key={idx}
  //                       className="p-4 border border-gray-300 rounded-md"
  //                     >
  //                       <div className="flex justify-between items-center mb-2">
  //                         <label className="font-medium">
  //                           Feature {idx + 1}
  //                         </label>
  //                         <button
  //                           type="button"
  //                           className="px-2 py-1 bg-red-500 text-white rounded"
  //                           onClick={() => remove(idx)}
  //                           disabled={values.keyFeatures.length === 1}
  //                         >
  //                           Remove
  //                         </button>
  //                       </div>
  //                       <div className="mb-2">
  //                         <Field
  //                           name={`keyFeatures[${idx}].title`}
  //                           placeholder="Title"
  //                           className="w-full px-3 py-2 border border-gray-300 rounded-md"
  //                         />
  //                         <ErrorMessage
  //                           name={`keyFeatures[${idx}].title`}
  //                           component="div"
  //                           className="text-xs text-red-500 mt-1"
  //                         />
  //                       </div>
  //                       <div className="mb-2">
  //                         <Field
  //                           as="textarea"
  //                           name={`keyFeatures[${idx}].description`}
  //                           placeholder="Description"
  //                           className="w-full px-3 py-2 border border-gray-300 rounded-md"
  //                           rows="2"
  //                         />
  //                       </div>
  //                       <div>
  //                         <label className="block mb-1 font-medium">
  //                           Sub Points
  //                         </label>
  //                         <FieldArray name={`keyFeatures[${idx}].subPoints`}>
  //                           {({ push: pushSP, remove: removeSP }) => (
  //                             <div className="space-y-1">
  //                               {feature.subPoints?.map((_, spIdx) => (
  //                                 <div key={spIdx} className="flex gap-2">
  //                                   <Field
  //                                     name={`keyFeatures[${idx}].subPoints[${spIdx}]`}
  //                                     className="flex-1 px-3 py-1 border border-gray-300 rounded-md"
  //                                   />
  //                                   <button
  //                                     type="button"
  //                                     className="px-2 py-1 bg-red-500 text-white rounded"
  //                                     onClick={() => removeSP(spIdx)}
  //                                     disabled={feature.subPoints.length === 1}
  //                                   >
  //                                     -
  //                                   </button>
  //                                   {spIdx === feature.subPoints.length - 1 && (
  //                                     <button
  //                                       type="button"
  //                                       className="px-2 py-1 bg-green-500 text-white rounded"
  //                                       onClick={() => pushSP("")}
  //                                     >
  //                                       +
  //                                     </button>
  //                                   )}
  //                                 </div>
  //                               ))}
  //                             </div>
  //                           )}
  //                         </FieldArray>
  //                       </div>
  //                     </div>
  //                   ))}
  //                   <button
  //                     type="button"
  //                     className="px-4 py-2 bg-indigo-600 text-white rounded"
  //                     onClick={() =>
  //                       push({
  //                         title: "",
  //                         description: "",
  //                         subPoints: [""],
  //                       })
  //                     }
  //                   >
  //                     Add Key Feature
  //                   </button>
  //                 </div>
  //               )}
  //             </FieldArray>
  //           </div>

  //           <div className="flex justify-between items-center pt-4">
  //             <button
  //               type="submit"
  //               disabled={isSubmitting || isLoading}
  //               className="px-6 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 disabled:opacity-50"
  //             >
  //               {editCourseData ? "Update Course" : "Create Course"}
  //             </button>
  //             <button
  //               type="button"
  //               onClick={() => navigate("/admin/courses")}
  //               className="px-6 py-2 bg-gray-400 text-white rounded hover:bg-gray-500"
  //             >
  //               Cancel
  //             </button>
  //           </div>
  //         </Form>
  //       )}
  //     </Formik>
  //   </div>
  // );

// course form previour working code with old ui 