import{r as s,aX as h,j as t,aJ as o}from"./index-BlaCQYdb.js";import{t as u}from"./TestServices-iIG0093W.js";const j=()=>{const[d,c]=s.useState([]),[x,r]=s.useState(!0),[a,l]=s.useState(""),{currentUser:p}=s.useContext(h),i=p?.token;return s.useEffect(()=>{if(!i){r(!1),l("You must be logged in to see results.");return}(async()=>{try{r(!0);const n=await u.getMyResults(i);c(n),l("")}catch(n){l(n.response?.data?.message||"Failed to fetch results."),console.error(n)}finally{r(!1)}})()},[i]),x?t.jsx("div",{className:"container",children:"Loading Your Results..."}):a?t.jsxs("div",{className:"container",style:{color:"red"},children:["Error: ",a]}):t.jsxs("div",{className:"my-results-container",style:{padding:"20px",maxWidth:"900px",margin:"auto"},children:[t.jsx("h2",{style:{textAlign:"center",marginBottom:"25px"},children:"My Test Results"}),d.length===0?t.jsxs("div",{style:{textAlign:"center",marginTop:"50px",padding:"30px",border:"1px dashed #ccc",borderRadius:"8px"},children:[t.jsx("h3",{children:"No Results Found"}),t.jsx("p",{children:"It looks like you haven't attempted any tests yet."}),t.jsx(o,{to:"/courses",children:t.jsx("button",{className:"button button-primary",style:{marginTop:"10px"},children:"Find a Test"})})]}):t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{borderBottom:"2px solid #333"},children:[t.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Test Title"}),t.jsx("th",{style:{padding:"12px",textAlign:"center"},children:"Score"}),t.jsx("th",{style:{padding:"12px",textAlign:"left"},children:"Submitted On"}),t.jsx("th",{style:{padding:"12px",textAlign:"center"},children:"Actions"})]})}),t.jsx("tbody",{children:d.map(e=>t.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[t.jsx("td",{style:{padding:"12px"},children:e.test?.title||"Test Title Not Available"}),t.jsx("td",{style:{padding:"12px",textAlign:"center"},children:`${e.score} / ${e.totalMarks}`}),t.jsx("td",{style:{padding:"12px"},children:new Date(e.submittedAt).toLocaleDateString()}),t.jsx("td",{style:{padding:"12px",textAlign:"center"},children:t.jsx(o,{to:`/results/${e._id}`,children:t.jsx("button",{className:"button button-secondary",children:"View Details"})})})]},e._id))})]})]})};export{j as default};
