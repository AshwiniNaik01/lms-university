import{r as a,a8 as L,q as E,u as S,a as C,j as e,K as h,aG as R,x as k,aW as F,a1 as P}from"./index-BlaCQYdb.js";function q(){const[l,p]=a.useState(!1),[i,f]=a.useState(""),[c,b]=a.useState(""),[d,o]=a.useState(""),[r,u]=a.useState(!1),[y,j]=a.useState([]),w=L(),x=E(s=>s.role.selectedRole),{login:v}=S(),m=C();a.useEffect(()=>{(async()=>{try{const t=await P.get("/api/role");if(t.data?.message){const n=t.data.message.filter(g=>g.role&&g.permissions?.length>=0);j(n)}}catch(t){console.error("Failed to fetch roles",t)}})()},[]);const N=async s=>{s.preventDefault(),o(""),u(!0);try{const t=await v(i,c,x);if(t.success&&t.user){const n=t.user.role?.toLowerCase();m(n==="trainer"?"/trainer/dashboard":"/dashboard")}else o(t.message||"Login failed.")}catch(t){o(t.message||"An unexpected error occurred.")}finally{u(!1)}};return e.jsx("div",{className:"fixed top-0 left-0 w-full h-screen bg-gradient-to-br from-[#e0ecfc] via-[#f5f7fa] to-[#e2e2e2] flex items-center justify-center px-4",children:e.jsxs(h.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex flex-col md:flex-row w-full max-w-5xl backdrop-blur-lg bg-white/30 shadow-2xl rounded-3xl overflow-hidden",children:[e.jsxs("div",{className:"md:w-1/2 p-10 bg-white/10 text-gray-800 flex flex-col items-center justify-center backdrop-blur-md",children:[e.jsx("h2",{className:"text-4xl font-bold mb-4 text-center",children:"Welcome Back ðŸ‘‹"}),e.jsx("p",{className:"text-lg mb-8 text-center max-w-sm",children:"Login to access your dashboard and manage your account."}),e.jsx("img",{src:"https://img.freepik.com/free-vector/sign-page-abstract-concept-illustration_335657-3875.jpg",alt:"Login Illustration",className:"w-full max-w-xs rounded-xl shadow-lg"})]}),e.jsxs("div",{className:"md:w-1/2 bg-white px-10 py-12",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Login"}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Enter your credentials to access your account."})]}),e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block mb-1 font-medium text-gray-700",children:["Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"email",className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-300 focus:outline-none transition-all",placeholder:"Enter your email id",value:i,onChange:s=>f(s.target.value),autoComplete:"username",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block mb-1 font-medium text-gray-700",children:["Password ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:l?"text":"password",className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-300 focus:outline-none transition-all",placeholder:"Enter your password",value:c,onChange:s=>b(s.target.value),autoComplete:"current-password",required:!0}),e.jsx("span",{onClick:()=>p(!l),className:"absolute right-3 top-2.5 text-gray-500 cursor-pointer text-lg",children:l?e.jsx(R,{}):e.jsx(k,{})})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block mb-1 font-medium text-gray-700",children:["Select Role ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:x,onChange:s=>w(F(s.target.value)),className:"w-full px-4 py-2 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-300 focus:outline-none",required:!0,children:[e.jsx("option",{value:"",children:"Choose a role"}),y.map(s=>e.jsx("option",{value:s.role,children:s.role.charAt(0).toUpperCase()+s.role.slice(1)},s._id))]})]}),e.jsx(h.button,{whileHover:r?{}:{scale:1.05},whileTap:r?{}:{scale:.98},type:"submit",disabled:r,className:`w-full px-4 py-2 rounded-xl text-white shadow-md transition-all
    ${r?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-400 to-indigo-500 hover:from-blue-500 hover:to-indigo-600"}`,children:r?"Logging in...":"Login"}),d&&e.jsx("div",{className:"text-red-500 text-sm text-center pt-2",children:d})]}),e.jsxs("p",{className:"text-sm text-center text-gray-500 mt-6",children:["Are you a participate ?"," ",e.jsx("a",{href:"/student-login",className:"text-indigo-600 hover:underline font-medium",children:"Login here"})]})]})]})})}const D=()=>e.jsx(e.Fragment,{children:e.jsx(q,{})});export{D as default};
