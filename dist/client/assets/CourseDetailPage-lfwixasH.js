import{bb as u,b as C,a as E,r,u as k,j as e,b5 as L,bm as S,b6 as F,bn as V,bo as I,af as M,m as z}from"./index-BlaCQYdb.js";import{f as D}from"./enrollments-0PjS8RPB.js";function P(a){return u({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M463 20.3L315.6 75.65 368.5 109C274 228 137.3 301.3 21.8 329.2l32.72 59.6C184.3 346.5 321.7 270.2 410.2 135.4l40.3 25.4L463 20.3zm7.7 116.7l-4.8 54.8-51.3-32.4c-1.8 2.7-3.7 5.3-5.6 8V487h78V137h-16.3zM320.1 265c-12.7 11-25.8 21.4-39.1 31.2V487h78V265h-38.9zm-123.7 84c-14.4 7.6-28.8 14.6-43.4 21.2V487h78V349h-34.6zM25 393v94h78v-94h-5.68c-14.82 5.5-29.63 10.6-44.35 15.3l-7.06 2.2-9.6-17.5H25z"},child:[]}]})(a)}function m(a){return u({attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"},child:[]}]})(a)}const H=()=>{const{courseId:a}=C(),h=E(),[s,g]=r.useState(null),[p,j]=r.useState(null),[f,o]=r.useState(!0),[c,d]=r.useState(""),{isAuthenticated:l,token:x,currentUser:i}=k(),b=async()=>{o(!0),d("");try{const t=await z(a);if(g(t),l&&i?.user?.role==="student"&&t){const v=(await D(x)??[]).find(w=>w.course._id===t._id);j(v||null)}}catch(t){d("Failed to load course details."),console.error(t)}o(!1)};if(r.useEffect(()=>{b()},[a,l,x,i]),f)return e.jsx("div",{className:"max-w-3xl mx-auto px-4 py-16 text-center animate-pulse",children:e.jsx("p",{className:"text-gray-500 text-lg",children:"Loading course details..."})});if(c)return e.jsx("div",{className:"max-w-3xl mx-auto px-4 py-8",children:e.jsx("p",{className:"text-red-500",children:c})});if(!s)return e.jsx("div",{className:"max-w-3xl mx-auto px-4 py-8",children:e.jsx("p",{className:"text-gray-700",children:"Course not found."})});const N=!!p,y=()=>{h(`/courses/${a}/study`)};return e.jsxs("div",{className:"max-w-8xl bg-gradient-to-r from-blue-100 via-blue-200 to-pink-100 mx-auto px-10 py-10 space-y-12 animate-fadeIn",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h1",{className:"text-4xl font-bold text-indigo-800 flex items-center gap-3",children:[e.jsx(m,{className:"text-indigo-600 text-4xl"}),s.title]}),e.jsxs("div",{className:"flex flex-wrap gap-6 text-gray-600 text-sm mt-4",children:[s.trainer&&e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"text-indigo-500"}),e.jsx("strong",{children:"Instructor:"})," ",s.trainer.fullName]}),e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"text-indigo-500"}),e.jsx("strong",{children:"Duration:"})," ",s.duration]}),s.enrolledCount!==void 0&&e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"text-indigo-500"}),e.jsx("strong",{children:"Enrolled:"})," ",s.enrolledCount.toLocaleString()]}),e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(V,{className:"text-yellow-500"}),e.jsx("strong",{children:"Rating:"})," ",s.rating?.toFixed(1)]})]})]}),e.jsxs("section",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200",children:[e.jsxs("h2",{className:"text-2xl font-semibold mb-4 text-indigo-800 flex items-center gap-2",children:[e.jsx(m,{})," About the Course"]}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:s.description})]}),e.jsxs("section",{className:"bg-blue-50 p-6 rounded-xl shadow-md border border-blue-100",children:[e.jsxs("h2",{className:"text-2xl font-semibold mb-4 text-blue-800 flex items-center gap-2",children:[e.jsx(P,{})," What You'll Learn"]}),e.jsx("ul",{className:"list-disc list-inside space-y-2 text-gray-700",children:s.learningOutcomes?.map((t,n)=>e.jsx("li",{children:t},n))})]}),e.jsxs("section",{className:"bg-green-50 p-6 rounded-xl shadow-md border border-green-100",children:[e.jsxs("h2",{className:"text-2xl font-semibold mb-4 text-green-800 flex items-center gap-2",children:[e.jsx(I,{})," Why Join This Course?"]}),e.jsx("ul",{className:"list-disc list-inside space-y-2 text-gray-700",children:s.benefits?.map((t,n)=>e.jsx("li",{children:t},n))})]}),e.jsx("section",{className:"space-y-6 text-center",children:l&&i?.user?.role==="student"?N?e.jsxs("button",{onClick:y,className:"inline-flex items-center justify-center gap-2 w-full md:w-auto py-3 px-6 bg-green-600 text-white rounded-lg hover:bg-green-700 transition font-semibold text-lg shadow-md hover:scale-105 duration-200",children:[e.jsx(M,{})," Start Learning"]}):e.jsx("p",{className:"text-red-600 font-semibold text-center",children:"You are not enrolled in this course."}):e.jsx("p",{className:"text-gray-600 italic text-center",children:"Please log in as a participate to start learning."})})]})};export{H as default};
