import{r as d,j as l,bd as g,be as w,bf as m}from"./index-BlaCQYdb.js";const F=({label:v,name:s,options:x,formik:e={values:{},setFieldValue:()=>{}},getOptionValue:u=a=>a,getOptionLabel:h=a=>a})=>{const[a,b]=d.useState(!1),o=d.useRef(null),n=Array.isArray(e?.values?.[s])?e.values[s]:[];d.useEffect(()=>{if(!Array.isArray(e?.values?.[s]))try{const t=JSON.parse(e?.values?.[s]||"[]");e?.setFieldValue&&e.setFieldValue(s,Array.isArray(t)?t:[])}catch{e?.setFieldValue&&e.setFieldValue(s,[])}},[e?.values?.[s],e?.setFieldValue,s]),d.useEffect(()=>{const t=r=>{o.current&&!o.current.contains(r.target)&&b(!1)};return document.addEventListener("mousedown",t),()=>document.removeEventListener("mousedown",t)},[]);const p=t=>{const r=u(t);n.includes(r)?e.setFieldValue(s,n.filter(c=>c!==r)):e.setFieldValue(s,[...n,r])},f=n.map(t=>{const r=x.find(c=>u(c)===t);return r?h(r):null}).filter(Boolean),y=e?.touched?.[s]&&e?.errors?.[s];return l.jsxs("div",{className:"relative w-full",ref:o,children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:v}),l.jsxs("div",{className:`border border-gray-300 focus:border-blue-500 rounded-lg w-full px-4 py-2 mt-1 bg-white flex justify-between items-center cursor-pointer transition-all ${a?"ring-2 ring-blue-400":"hover:shadow-lg"}`,onClick:()=>b(!a),children:[l.jsx("span",{className:"text-gray-800 font-sm truncate w-[90%]",children:f.length>0?f.join(", "):"Select Options"}),a?l.jsx(g,{className:"text-blue-500"}):l.jsx(w,{className:"text-gray-400"})]}),a&&l.jsx("div",{className:"absolute z-30 bg-white border border-gray-200 mt-2 w-full rounded-lg shadow-xl max-h-60 overflow-y-auto transition-all animate-fadeIn",children:x.map((t,r)=>{const c=u(t),j=h(t),i=n.includes(c);return l.jsxs("label",{className:"flex items-center gap-3 px-4 py-2 hover:bg-[#e7f3ff] cursor-pointer transition-all duration-150",children:[l.jsx("input",{type:"checkbox",className:"hidden",checked:i,onChange:()=>p(t)}),l.jsx("div",{className:`w-5 h-5 flex items-center justify-center rounded-md border-2 transition-all ${i?"bg-[#485dac] border-[#485dac]":"border-gray-300"}`,children:i&&l.jsx(m,{className:"text-white text-sm"})}),l.jsx("span",{className:"text-gray-800 font-medium",children:j})]},r)})}),y&&l.jsx("p",{className:"text-red-500 text-sm mt-1 font-medium",children:e.errors?.[s]})]})};export{F as M};
