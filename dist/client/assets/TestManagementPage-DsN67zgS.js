import{r as a,j as e,aJ as m,a1 as o}from"./index-BlaCQYdb.js";const y=()=>{const[r,d]=a.useState([]),[i,l]=a.useState(!0),[n,c]=a.useState(""),x=async()=>{try{l(!0);const t=await o.get("/api/tests");d(t.data.data||[])}catch(t){c("Failed to fetch tests. Please try again later."),console.error("Error fetching tests:",t)}finally{l(!1)}};a.useEffect(()=>{x()},[]);const h=async t=>{if(typeof window<"u"&&window.confirm("Are you sure you want to delete this test?"))try{await o.delete(`/api/tests/${t}`),d(r.filter(s=>s._id!==t))}catch(s){const p=s.response?.data?.message||"Failed to delete the test.";c(p),console.error(`Error deleting test with id ${t}:`,s)}};return e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"ğŸ§ª Test Management"}),e.jsx(m,{to:"/tests/create",className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white px-5 py-2 rounded-lg shadow hover:from-indigo-600 hover:to-purple-700 transition",children:"â• Create New Test"})]}),i&&e.jsx("div",{className:"text-center text-blue-600 font-medium animate-pulse",children:"Loading tests..."}),n&&e.jsx("div",{className:"text-red-600 bg-red-100 border border-red-300 px-4 py-2 rounded shadow",children:n}),!i&&!n&&e.jsx("div",{className:"bg-white rounded-xl shadow-lg overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-100 text-left text-gray-600 uppercase text-sm tracking-wider",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4",children:"ğŸ“˜ Title"}),e.jsx("th",{className:"px-6 py-4",children:"ğŸ“ Course"}),e.jsx("th",{className:"px-6 py-4",children:"ğŸ« Branch"}),e.jsx("th",{className:"px-6 py-4",children:"â“ Questions"}),e.jsx("th",{className:"px-6 py-4 text-center",children:"âš™ï¸ Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:r.length>0?r.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[e.jsx("td",{className:"px-6 py-4 font-medium text-gray-800",children:t.title}),e.jsx("td",{className:"px-6 py-4",children:t.course?.title||"N/A"}),e.jsx("td",{className:"px-6 py-4",children:t.branch?.name||"N/A"}),e.jsx("td",{className:"px-6 py-4",children:t.questions?.length||0}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx("button",{onClick:()=>h(t._id),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md shadow transition",children:"ğŸ—‘ï¸ Delete"})})]},t._id)):e.jsx("tr",{children:e.jsxs("td",{colSpan:"5",className:"text-center px-6 py-6 text-gray-500",children:["No tests found. Click ",e.jsx("strong",{children:'"Create New Test"'})," to add one."]})})})]})})]})};export{y as default};
