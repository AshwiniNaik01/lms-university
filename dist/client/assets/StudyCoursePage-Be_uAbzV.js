import{r as p,aA as ce,j as e,aj as xe,ak as me,a as O,a8 as Z,bg as he,q as ge,bD as ue,bE as be,b4 as U,bF as X,bi as pe,bG as fe,b0 as L,C as F,bm as ee,be as K,bH as z,p as G,b as se,bI as W,bJ as je,b2 as M,x as Ne,bv as te,b6 as le,bK as ve,br as D,bL as we,bM as re,bn as Y,af as ae,bN as ye,bO as ke,S as Q,bP as Ce,bQ as Fe,bR as Se,bS as E,a9 as Te,aH as $e,aJ as Ae,ab as Pe,B as Le,m as Ee,aI as _e}from"./index-BlaCQYdb.js";const qe=({test:s={},onClose:t})=>{const a=s.attempted===1,l=a?s.iqtest?.questions||[]:s.questions||[],o=p.useRef(null),[r,d]=ce.useState(!1),g=()=>{const b=o.current;b&&(document.fullscreenElement?(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),d(!1)):(b.requestFullscreen?b.requestFullscreen():b.webkitRequestFullscreen?b.webkitRequestFullscreen():b.msRequestFullscreen&&b.msRequestFullscreen(),d(!0)))};return e.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex justify-center items-center",children:e.jsxs("div",{ref:o,className:"bg-white w-full max-w-3xl rounded-xl p-6 max-h-[85vh] overflow-y-auto transition-all",style:r?{width:"100%",height:"100%",maxWidth:"100%",maxHeight:"100%",borderRadius:0}:{},children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-800",children:["Question Paper â€“ ",s.title||"Test"]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:g,className:"text-xl text-gray-700 hover:text-gray-900",title:r?"Exit Fullscreen":"Maximize",children:r?e.jsx(xe,{}):e.jsx(me,{})}),e.jsx("button",{onClick:t,className:"text-xl font-bold",children:"âœ•"})]})]}),l.length>0?l.map((b,u)=>{const v=b.selectedOption,j=b.correctAns;return e.jsxs("div",{className:"mb-6 border-b pb-4",children:[e.jsxs("p",{className:"font-semibold mb-2",children:[u+1,". ",b.question]}),["A","B","C","D"].map(y=>{const h=b[`option${y}`],n=y===j,i=y===v;return e.jsxs("div",{className:`p-2 rounded-lg border mb-1
                        ${a&&n?"bg-green-50 border-green-500":""}
                        ${a&&i&&!n?"bg-red-50 border-red-500":""}
                      `,children:[e.jsxs("span",{className:"font-semibold mr-2",children:[y,"."]}),h,a&&n&&e.jsx("span",{className:"ml-2 text-green-600 font-semibold",children:"âœ” Correct"}),a&&i&&!n&&e.jsx("span",{className:"ml-2 text-red-600 font-semibold",children:"âœ– Your Answer"})]},y)})]},b._id)}):e.jsx("p",{className:"text-center text-gray-500",children:"No questions available"})]})})},Ie=({batch:s})=>{const t=O(),a=Z(),l=he.get("studentId"),{assignments:o}=ge(d=>d.assignments);if(p.useEffect(()=>{s?._id&&(a(ue({batchId:s._id,batchName:s.batchName})),a(be(s.assignments||[])))},[s,a]),!s)return e.jsx("div",{children:"Loading batch..."});const r=d=>d.submissions?.find(g=>g.student===l)||null;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-purple-50 p-8",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border p-8 mb-6 max-h-fit",children:[e.jsxs("div",{className:"flex items-center gap-6 mb-6 bg-white p-6 rounded-2xl shadow-lg border",children:[e.jsx("div",{className:"p-4 bg-gradient-to-r from-orange-500 to-red-600 text-white rounded-xl shadow-lg flex items-center justify-center",children:e.jsx(U,{className:"w-8 h-8"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Batch Assignments"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["Track and manage all assignments for"," ",e.jsx("span",{className:"font-semibold",children:s?.batchName})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[e.jsx("span",{className:"text-gray-500 font-medium",children:"Total Assignments:"}),e.jsx("span",{className:"text-xl md:text-2xl font-bold text-orange-600",children:o?.length})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-6",children:[e.jsx(I,{count:o.filter(d=>{const g=r(d);return g&&g.status==="check"}).length,label:"Submitted",color:"blue",onClick:()=>t(`/batch/${s._id}/assignments?filter=submitted`)}),e.jsx(I,{count:o.filter(d=>!r(d))?.length,label:"Unsubmitted",color:"red",onClick:()=>t(`/batch/${s._id}/assignments?filter=unsubmitted`)}),e.jsx(I,{count:o.filter(d=>{const g=r(d);return g&&g.score!=null&&g.status==="submitted"}).length,label:"Graded",color:"green",onClick:()=>t(`/batch/${s._id}/assignments?filter=graded`)}),e.jsx(I,{count:o.filter(d=>{const g=d.submissions?.find(b=>b.student===l);return g&&g.status==="unsubmitted"&&g.mistakePhotos?.length>0}).length,label:"ReSubmit",color:"red",onClick:()=>t(`/batch/${s._id}/assignments?filter=resubmit`)})]})]})})},I=({count:s,label:t,color:a,onClick:l})=>e.jsxs("div",{onClick:l,className:`cursor-pointer bg-${a}-50 rounded-xl p-4 border hover:scale-105 transition-transform`,children:[e.jsx("div",{className:`text-2xl font-bold text-${a}-600`,children:s||0}),e.jsx("div",{className:`text-sm text-${a}-700`,children:t})]}),De=({cloudLabs:s})=>{if(!s)return null;const{link:t,students:a=[]}=s;return e.jsxs("div",{className:"p-6 space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Cloud Lab Access"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Use the credentials below to access your assigned cloud lab"})]}),t&&e.jsxs("button",{onClick:()=>window.open(t,"_blank","noopener,noreferrer"),className:"inline-flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl shadow-md hover:shadow-lg hover:scale-105 transition-all",children:["Open Cloud Lab",e.jsx(X,{className:"text-sm"})]})]}),e.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-300 to-transparent"}),a.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.map((l,o)=>e.jsxs("div",{className:"group relative rounded-2xl border bg-white p-5 shadow-sm hover:shadow-lg transition-all",children:[e.jsx("span",{className:"absolute -top-3 right-4 bg-blue-100 text-blue-700 text-xs font-semibold px-3 py-1 rounded-full",children:"Credentials"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg",children:e.jsx(pe,{})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Username"}),e.jsx("p",{className:"font-semibold text-gray-800 break-all",children:l.username})]})]}),l.password&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-50 text-purple-600 rounded-lg",children:e.jsx(fe,{})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Password"}),e.jsx("p",{className:"font-mono font-semibold text-gray-800 tracking-wide",children:l.password})]})]})]})]},o))}):e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-2xl border",children:[e.jsx("p",{className:"text-gray-600 font-medium",children:"No cloud lab credentials assigned yet."}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Please check back later or contact your trainer."})]})]})},Me=({course:s,expandedWeeks:t,toggleWeek:a})=>{const[l,o]=p.useState({}),r=i=>i?.trim()?.length>0,d=(i=[])=>i.filter(c=>r(c.title)||r(c.description)),g=(i=[])=>i.filter(c=>r(c.title)||d(c.points).length>0||c.lectures?.length>0||c.assignments?.length>0),b=(i=[])=>i.filter(c=>r(c.title)||g(c.chapters).length>0),u=(i=[])=>i.filter(c=>r(c.title)||b(c.weeks).length>0),v=i=>{o(c=>({...c,[i]:!c[i]}))},j=i=>{const c=i.lectures?.length||0,N=i.assignments?.length||0,w=c+N;return{lectures:c,assignments:N,totalItems:w}},y=i=>{let c=0,N=0,w=0;return i.chapters?.forEach(x=>{c+=x.lectures?.length||0,N+=x.assignments?.length||0,w+=(x.lectures?.length||0)*30}),{lectures:c,assignments:N,duration:Math.round(w/60)}},h=i=>{let c=i.weeks.length,N=0,w=0,x=0;return i.weeks.forEach(T=>{N+=T.chapters.length,T.chapters.forEach($=>{w+=$.lectures?.length||0,x+=$.assignments?.length||0})}),{totalWeeks:c,totalChapters:N,totalLectures:w,totalAssignments:x}},n=()=>{if(!s?.trainingPlan)return;const i=`${G.TRAINING_PLAN}${s.trainingPlan.fileName}`;window.open(i,"_blank")};return e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border overflow-hidden",children:[e.jsxs("div",{className:"p-8 border-b bg-gradient-to-r from-blue-50 to-purple-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-blue-600 rounded-xl text-white shadow-lg",children:e.jsx(L,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-3xl font-bold text-gray-900",children:[F," Curriculum"]}),e.jsxs("p",{className:"text-gray-600 mt-1 text-lg",children:["Master ",s.title," through ",s.phases?.length||0," structured schedule"]})]})]}),s?.trainingPlan?.fileName&&e.jsx("button",{onClick:n,className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-green-500 to-emerald-600 text-white rounded-xl shadow-lg hover:scale-105 transition-transform",children:"â¬‡ï¸ Download Training Plan"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-6",children:[e.jsxs("div",{className:"text-center p-4 bg-white rounded-xl shadow-sm border",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:s.phases?.length||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Schedules"})]}),e.jsxs("div",{className:"text-center p-4 bg-white rounded-xl shadow-sm border",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.phases?.reduce((i,c)=>i+c.weeks.length,0)||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Modules"})]}),e.jsxs("div",{className:"text-center p-4 bg-white rounded-xl shadow-sm border",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.phases?.reduce((i,c)=>i+c.weeks.reduce((N,w)=>N+w.chapters.length,0),0)||0}),e.jsx("div",{className:"text-sm text-gray-600",children:"Course Contents"})]})]})]}),e.jsx("div",{className:"p-6 space-y-6",children:u(s.phases).map((i,c)=>{const N=l[c],w=h(i);return e.jsxs("div",{className:"border-2 border-gray-100 rounded-2xl overflow-hidden hover:border-blue-200 transition-all duration-300 bg-white",children:[e.jsxs("button",{onClick:()=>v(c),className:"w-full flex items-center justify-between p-6 text-left hover:bg-blue-50 transition-all duration-300 group",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"relative",children:e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-blue-600 rounded-xl flex items-center justify-center text-white font-bold text-lg shadow-lg group-hover:scale-110 transition-transform duration-300",children:c+1})}),e.jsxs("div",{className:"text-left",children:[r(i.title)&&e.jsx("h3",{className:"text-xl font-bold text-gray-900 group-hover:text-purple-700 transition-colors",children:i.title}),r(i.description)&&e.jsx("p",{className:"text-gray-600 mt-1",children:i.description}),e.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-500",children:[e.jsxs("span",{className:"flex items-center gap-1 bg-blue-100 px-2 py-1 rounded-full",children:[e.jsx(ee,{className:"w-3 h-3"}),w.totalWeeks," modules"]}),e.jsxs("span",{className:"flex items-center gap-1 bg-green-100 px-2 py-1 rounded-full",children:[e.jsx(L,{className:"w-3 h-3"}),w.totalChapters," course contents"]})]})]})]}),e.jsx("div",{className:`transform transition-transform duration-300 ${N?"rotate-180":""} text-gray-400 group-hover:text-purple-500`,children:e.jsx(K,{className:"w-5 h-5"})})]}),N&&e.jsx("div",{className:"border-t border-gray-100 bg-gradient-to-br from-gray-50 to-blue-50/30",children:e.jsx("div",{className:"p-6 space-y-4",children:b(i.weeks).map((x,T)=>{const $=`${c}-${T}`,_=t[$];return y(x),e.jsxs("div",{className:"bg-white rounded-xl border-2 border-gray-100 hover:border-blue-200 transition-all duration-300 overflow-hidden",children:[e.jsxs("button",{onClick:()=>a(c,T),className:"w-full flex items-center justify-between p-5 text-left hover:bg-blue-50/50 transition-colors group/week",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-cyan-600 rounded-xl flex items-center justify-center text-white font-bold text-sm shadow-lg group-hover/week:scale-110 transition-transform",children:x.weekNumber}),e.jsxs("div",{className:"text-left",children:[r(x.title)&&e.jsx("h4",{className:"text-lg font-semibold text-gray-900 group-hover/week:text-blue-700",children:x.title}),e.jsx("div",{className:"flex items-center gap-3 mt-1 text-sm text-gray-500",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(L,{className:"w-3 h-3"}),x.chapters.length," course contents"]})})]})]}),e.jsx("div",{className:`transform transition-transform duration-300 ${_?"rotate-180":""} text-gray-400 group-hover/week:text-blue-500`,children:e.jsx(K,{className:"w-4 h-4"})})]}),_&&e.jsx("div",{className:"border-t border-gray-100 bg-gray-50/50",children:e.jsx("div",{className:"p-5 space-y-4",children:g(x.chapters).map((S,R)=>(j(S),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 hover:shadow-md transition-all duration-300 group/chapter",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-green-500 to-emerald-600 rounded-lg flex items-center justify-center text-white text-sm font-bold",children:R+1}),r(S.title)&&e.jsx("h5",{className:"text-lg font-semibold text-gray-900 group-hover/chapter:text-green-700",children:S.title})]}),d(S.points).length>0&&e.jsx("ul",{className:"space-y-2",children:d(S.points).map((A,B)=>e.jsxs("li",{className:"flex items-start gap-3 text-sm group/point animate-fade-in-up",style:{animationDelay:`${B*100}ms`},children:[e.jsx("div",{className:"flex-shrink-0 w-5 h-5 bg-green-100 rounded-full flex items-center justify-center mt-0.5 group-hover/point:scale-110 transition-transform",children:e.jsx(z,{className:"w-3 h-3 text-green-500"})}),e.jsxs("div",{className:"flex-1",children:[r(A.title)&&e.jsx("span",{className:"font-medium text-gray-800",children:A.title}),r(A.description)&&e.jsx("p",{className:"text-gray-600 text-xs mt-1 bg-gray-50 p-2 rounded-lg",children:A.description})]})]},A._id))})]})})},S._id)))})})]},x._id)})})})]},i._id)})}),e.jsxs("div",{className:"border-t bg-gradient-to-r from-green-50 to-blue-50 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"Your Learning Journey"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Complete schedules to unlock your certificate"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"0%"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Overall Progress"})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-3",children:e.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-500 h-2 rounded-full transition-all duration-1000",style:{width:"0%"}})})]})]})},Oe=({batch:s})=>{const t=O(),{courseId:a}=se();return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 p-6",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-lg border p-6 mb-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl",children:e.jsx(W,{className:"w-7 h-7"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Batch Feedback"}),e.jsxs("p",{className:"text-gray-600",children:["Feedbacks for ",e.jsx("strong",{children:s?.batchName})]})]})]})}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:s?.feedbacks?.length>0?s.feedbacks.map(l=>{const o=l.status===1;return e.jsxs("div",{onClick:()=>{o||t(`/courses/${a}/study/feedback/${l._id}`,{state:{batch:s,feedback:l}})},className:`p-6 rounded-2xl border shadow-lg transition-all
                  ${o?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white cursor-pointer hover:shadow-2xl"}
                `,children:[e.jsx("h2",{className:"text-xl font-bold mb-2",children:l.title||"Feedback Form"}),e.jsxs("p",{className:"mb-4",children:[l.questions?.length||0," Questions"]}),e.jsxs("div",{className:`flex items-center gap-2 font-semibold ${o?"text-gray-400":"text-blue-600"}`,children:[e.jsx(W,{}),o?"Feedback Submitted":"Give Feedback"]})]},l._id)}):e.jsxs("div",{className:"col-span-full text-center py-16",children:[e.jsx(W,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold",children:"No Feedback Available"}),e.jsx("p",{className:"text-gray-500",children:"Instructor will update feedback forms soon."})]})})]})},Re=({batch:s,onClose:t})=>s?je.createPortal(e.jsxs(e.Fragment,{children:[e.jsx("div",{onClick:t,className:"fixed inset-0 bg-black/40 backdrop-blur-md z-40"}),e.jsxs("div",{className:"fixed top-24 left-1/2 -translate-x-1/2 w-[90vw] max-w-6xl mt-7 bg-white shadow-2xl rounded-lg border border-gray-200 overflow-hidden z-50 animate-fadeIn",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-5 relative",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Meetings & Attendance"}),e.jsx("button",{onClick:t,className:"absolute top-4 right-4 w-8 h-8 flex items-center justify-center rounded-full bg-white/20 text-white hover:bg-white/30 transition-colors",children:"âœ•"})]}),e.jsx("div",{className:"p-5 max-h-[70vh] overflow-y-auto",children:e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 bg-blue-100 text-blue-600 rounded-lg flex items-center justify-center",children:"ðŸŽ¯"}),"Scheduled Meetings"]}),e.jsxs("span",{className:"text-sm font-medium text-blue-600 bg-blue-50 px-3 py-1 rounded-full",children:[s.meetings?.length||0," Total"]})]}),s.meetings?.length>0?e.jsx("div",{className:"overflow-y-auto max-h-[55vh] pr-2",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.meetings.map(a=>{const l=s.attendance?.filter(r=>r.meeting===a._id),o=l?.length>0;return e.jsxs("div",{className:`relative rounded-xl border p-4 shadow-sm
                          ${o?"bg-gray-100 cursor-not-allowed opacity-80":"bg-gradient-to-br from-white to-gray-50 hover:shadow-lg"}`,children:[o&&e.jsxs("div",{className:"absolute inset-0 bg-white/80 z-10 rounded-xl flex flex-col items-center justify-center gap-2 p-4",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Attendance"}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:l.map(r=>r.student.map(d=>e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.present?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[d.fullName,":"," ",r.present?"Present":"Absent"]},d._id)))})]}),e.jsxs("div",{className:"flex justify-between mb-3",children:[e.jsx("h5",{className:"font-bold text-gray-800 line-clamp-2",children:a.title}),e.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-600 rounded-full",children:a.platform})]}),e.jsxs("div",{className:"space-y-2 mb-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-2",children:["â°"," ",new Date(a.startTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," ","â†’"," ",new Date(a.endTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:["ðŸ“…"," ",new Date(a.startTime).toLocaleDateString()]}),a.meetingPassword&&e.jsxs("div",{className:"flex items-center gap-2",children:["ðŸ”‘ Password:"," ",e.jsx("span",{className:"font-medium text-gray-800",children:a.meetingPassword})]})]}),!o&&e.jsx("a",{href:a.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"block w-full text-center py-2.5 font-semibold rounded-lg bg-gradient-to-r from-blue-500 to-blue-600 text-white hover:shadow-lg hover:scale-[1.02] active:scale-95 transition-all duration-300",children:"Join Meeting"})]},a._id)})})}):e.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-xl border border-dashed border-gray-300",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl text-gray-400",children:"ðŸ“…"})}),e.jsx("p",{className:"text-gray-500 font-medium",children:"No meetings scheduled"}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Meetings will appear here when scheduled"})]})]})})]})]}),document.body):null,Be=({batch:s})=>{const t=s?.notes||[];return e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[e.jsxs("div",{className:"p-6 border-b",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Notes"}),e.jsxs("p",{className:"text-gray-600 mt-1",children:["View batch-specific ",F," materials"]})]}),e.jsx("div",{className:"p-6",children:t.length>0?e.jsx("div",{className:"grid gap-4",children:t.map((a,l)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 text-green-600 rounded-lg flex items-center justify-center",children:e.jsx(M,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:a.title||`Note ${l+1}`}),a.content&&e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:a.content})]})]}),a.file&&e.jsxs("a",{href:`${G.COURSE_NOTES}${a.file}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",download:!0,children:[e.jsx(Ne,{className:"w-4 h-4"}),"View"]})]},a._id))}):e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(M,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"No notes available for this batch yet."})]})})]})},Ve=({course:s})=>{const[t,a]=p.useState(null),[l,o]=p.useState(0),r=s.learningOutcomes?.map((h,n)=>({id:n,text:h,completed:Math.random()>.7,category:u(h),icon:v(h)}))||[],d=r.filter(h=>h.completed).length,g=r.length,b=g>0?Math.round(d/g*100):0;function u(h){const n=h.toLowerCase();return n.includes("build")||n.includes("develop")||n.includes("create")?"development":n.includes("master")||n.includes("understand")||n.includes("learn")?"mastery":n.includes("deploy")||n.includes("production")||n.includes("launch")?"deployment":n.includes("crack")||n.includes("interview")||n.includes("job")?"career":"general"}function v(h){switch(u(h)){case"development":return we;case"mastery":return D;case"deployment":return ve;case"career":return le;default:return te}}const j={development:{bg:"from-blue-500 to-cyan-500",text:"text-blue-600",light:"bg-blue-50"},mastery:{bg:"from-purple-500 to-pink-500",text:"text-purple-600",light:"bg-purple-50"},deployment:{bg:"from-green-500 to-emerald-500",text:"text-green-600",light:"bg-green-50"},career:{bg:"from-orange-500 to-red-500",text:"text-orange-600",light:"bg-orange-50"},general:{bg:"from-gray-500 to-gray-700",text:"text-gray-600",light:"bg-gray-50"}},y=h=>({development:"Development",mastery:"Mastery",deployment:"Deployment",career:"Career",general:"General"})[h]||"Skill";return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-white to-blue-50",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl text-white shadow-lg",children:e.jsx(re,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Learning Outcomes"}),e.jsxs("p",{className:"text-gray-600 mt-1 text-lg",children:["Master these skills to become a proficient ",s.title," developer"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl p-4 border shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-700",children:"Your Learning Journey"}),e.jsxs("div",{className:"text-sm font-bold text-green-600",children:[b,"% Complete"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-500 h-3 rounded-full transition-all duration-1000 ease-out shadow-lg",style:{width:`${b}%`}})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[e.jsx("span",{children:"Beginner"}),e.jsx("span",{children:"Intermediate"}),e.jsx("span",{children:"Advanced"}),e.jsx("span",{children:"Master"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b bg-gradient-to-r from-purple-50 to-blue-100",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[e.jsx(D,{className:"text-purple-600"}),"What You'll Master"]}),e.jsxs("p",{className:"text-gray-600 mt-1",children:[g," key skills and competencies you'll develop"]})]}),e.jsx("div",{className:"p-6",children:r.length>0?e.jsx("div",{className:"grid grid-cols-2 gap-6",children:r.map((h,n)=>{const i=h.icon,c=j[h.category];return e.jsx("div",{className:`border-2 rounded-2xl overflow-hidden hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 cursor-pointer group ${h.completed?"border-green-200 bg-green-50":"border-gray-200 bg-white"}`,children:e.jsx("div",{className:"p-3",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:`w-10 h-10 bg-gradient-to-r ${c.bg} rounded-xl flex items-center justify-center text-white shadow-lg group-hover:scale-110 transition-transform`,children:e.jsx(i,{className:"w-6 h-6"})})}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsx("div",{children:e.jsx("h3",{className:`text-xl font-semibold mb-2 group-hover:${c.text} transition-colors ${h.completed?"text-green-700":"text-gray-900"}`,children:h.text})})})})]})})},h.id)})}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-200 to-gray-300 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(D,{className:"w-10 h-10 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No Learning Outcomes Defined"}),e.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:"Learning outcomes for this course will be added by the instructor soon."})]})})]}),t&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[e.jsx("div",{className:`p-6 border-b bg-gradient-to-r ${j[t.category].bg} text-white`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(t.icon,{className:"w-6 h-6"}),e.jsx("h3",{className:"text-2xl font-bold",children:"Learning Outcome"})]}),e.jsx("button",{className:"text-white hover:text-gray-200 transition-colors p-2",children:e.jsx(FaTimes,{className:"w-5 h-5"})})]})}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:e.jsx("div",{className:"prose max-w-none",children:e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-4",children:t.text}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Category"}),e.jsx("div",{className:"font-semibold text-gray-900",children:y(t.category)})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Status"}),e.jsx("div",{className:`font-semibold ${t.completed?"text-green-600":"text-blue-600"}`,children:t.completed?"Mastered":"In Progress"})]})]}),t.skills.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h5",{className:"font-semibold text-gray-900 mb-3",children:"Key Skills Developed"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.skills.map((h,n)=>e.jsxs("span",{className:"inline-flex items-center gap-2 bg-blue-100 text-blue-700 px-3 py-2 rounded-lg font-medium",children:[e.jsx(Y,{className:"w-4 h-4 text-yellow-500"}),h]},n))})]})]})})}),e.jsxs("div",{className:"p-6 border-t bg-gray-50 flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Outcome ",t.id+1," of ",g]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"}),e.jsxs("button",{className:"inline-flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(ae,{className:"w-4 h-4"}),"Start Learning"]})]})]})]})})]})},We=({course:s,setActiveTab:t})=>{const a=[{icon:e.jsx(le,{className:"w-5 h-5"}),label:"Enrolled",value:s.enrolledCount,color:"from-green-500 to-green-600"},{icon:e.jsx(Y,{className:"w-5 h-5"}),label:"Rating",value:s.rating,color:"from-yellow-500 to-yellow-600"},{icon:e.jsx(D,{className:"w-5 h-5"}),label:"Certificate",value:"Included",color:"from-purple-500 to-purple-600"}];return e.jsxs("div",{className:"p-8 h-[calc(100vh-64px)] overflow-y-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("h1",{className:"text-4xl font-bold text-gray-900 mb-4 bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text",children:["Welcome to ",s.title]}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed",children:s.overview})]}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:a.map((l,o)=>e.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-2xl p-6 text-center shadow-lg border hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[e.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${l.color} rounded-xl flex items-center justify-center text-white mx-auto mb-3 shadow-lg`,children:l.icon}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:l.value}),e.jsx("div",{className:"text-sm text-gray-600 font-medium",children:l.label})]},o))}),s.benefits&&s.benefits.length>0&&e.jsxs("div",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-yellow-500 to-orange-500 rounded-xl text-white shadow-lg",children:e.jsx(re,{className:"w-6 h-6"})}),e.jsxs("h2",{className:"text-3xl font-bold text-gray-900",children:["Why Take This ",F,"?"]})]}),e.jsx("div",{className:"grid gap-4",children:s.benefits.map((l,o)=>e.jsxs("div",{className:"flex items-start gap-4 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl border border-blue-100 hover:shadow-lg transition-all duration-300 group",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white mt-1 group-hover:scale-110 transition-transform",children:e.jsx(z,{className:"w-4 h-4"})}),e.jsx("span",{className:"text-lg text-gray-800 font-medium",children:l})]},o))})]}),s.keyFeatures&&s.keyFeatures.length>0&&e.jsxs("div",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-purple-500 to-pink-500 rounded-xl text-white shadow-lg",children:e.jsx(te,{className:"w-6 h-6"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Prerequisite"})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:s.keyFeatures.map((l,o)=>e.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-gray-100 hover:border-blue-200 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:[e.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-3 flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full"}),l.title]}),l.description&&e.jsx("p",{className:"text-gray-600 mb-4 leading-relaxed",children:l.description}),l.subPoints&&l.subPoints.length>0&&e.jsx("ul",{className:"space-y-2",children:l.subPoints.map((r,d)=>e.jsxs("li",{className:"flex items-start gap-2 text-gray-700",children:[e.jsx("span",{className:"text-green-500 mt-1.5",children:"â€¢"}),e.jsx("span",{className:"leading-relaxed",children:r})]},d))})]},o))})]})]})},Qe=s=>{if(!s)return"";let t=s.trim();return t.startsWith("http")||(t=`https://${t}`),t.includes("youtube.com/embed/")?`https://www.youtube.com/watch?v=${t.split("/embed/")[1]?.split("?")[0]}`:t.includes("youtu.be/")?`https://www.youtube.com/watch?v=${t.split("youtu.be/")[1]?.split("?")[0]}`:t},Ue=({batch:s})=>{const t=s?.prerequisites;return!t||t.length===0?e.jsxs("div",{className:"p-8 text-center text-gray-600",children:["No prerequisites available for this ",F,"."]}):e.jsxs("div",{className:"p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Prerequisites"}),e.jsx("div",{className:"space-y-8",children:t.map(a=>e.jsxs("div",{className:"bg-white shadow-md rounded-xl border p-6 space-y-4",children:[e.jsx("h3",{className:"text-xl font-bold text-blue-700",children:a.title}),e.jsx("p",{className:"text-gray-600",children:a.description}),e.jsx("div",{className:"space-y-6",children:a.topics?.map(l=>e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50 shadow-sm",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-3",children:l.name}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.videoLinks&&e.jsxs("a",{href:Qe(l.videoLinks),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-red-600 font-semibold hover:underline p-4 bg-red-50 rounded-lg transition",children:[e.jsx(ye,{className:"w-6 h-6"}),"Watch video"]}),l.materialFiles?.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-700 mb-2",children:"Materials:"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-3",children:l.materialFiles.map((o,r)=>e.jsxs("a",{href:`${G.PREREQUISITE_MATERIALS}${o}`,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-blue-50 text-blue-700 rounded-lg text-sm font-semibold flex items-center gap-2 hover:bg-blue-100 transition",children:[e.jsx(M,{className:"w-4 h-4"}),"Open File ",r+1]},r))})]})]})]},l._id))})]},a._id))})]})},ze=({tests:s})=>{const t=O(),[a,l]=p.useState(!1),[o,r]=p.useState(!1),[d,g]=p.useState(null);if(!s||s.length===0)return e.jsx("div",{className:"p-6 text-center text-gray-500",children:"No tests available for this batch."});const b=u=>{Q.fire({title:`Start ${u.title}?`,html:`
        <div class="text-left max-h-[60vh] overflow-y-auto">
          <div class="flex items-center mb-4">
            <svg class="w-6 h-6 text-blue-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z">
              </path>
            </svg>
            <h3 class="text-lg font-bold">Test Instructions</h3>
          </div>

          <div class="bg-blue-50 p-4 rounded-lg mb-4">
            <h4 class="font-semibold text-blue-800 mb-2">General Guidelines:</h4>
            <ul class="space-y-2 list-disc pl-5 text-blue-700">
              <li>Total duration: ${u?.testDuration?.minutes||"N/A"} minutes</li>
              <li>Total questions: ${u.totalQuestions}</li>
              <li>Each question carries equal marks</li>
              <li>No negative marking</li>
            </ul>
          </div>

          <div class="bg-yellow-50 p-4 rounded-lg mb-4">
            <h4 class="font-semibold text-yellow-800 mb-2">During the Test:</h4>
            <ul class="space-y-2 list-disc pl-5 text-yellow-700">
              <li>Select the correct option for each question</li>
              <li>You can change answers before submission</li>
              <li>Do not refresh or close the browser</li>
              <li>Timer starts immediately</li>
            </ul>
          </div>

          <div class="flex items-start mt-4">
            <input 
              type="checkbox" 
              id="agreeTerms" 
              class="w-5 h-5 mt-1 mr-2 cursor-pointer"
            />
            <label for="agreeTerms" class="text-gray-700 cursor-pointer">
              I have read and understood the instructions
            </label>
          </div>
        </div>
      `,showCancelButton:!0,confirmButtonText:`
        <span class="flex items-center gap-2">
          <VscDebugStart />
          Start Test
        </span>
      `,cancelButtonText:"Cancel",didOpen:()=>{const v=Q.getConfirmButton(),j=Q.getPopup().querySelector("#agreeTerms");v.disabled=!0,j.addEventListener("change",()=>{v.disabled=!j.checked})}}).then(v=>{if(v.isConfirmed){const j=document.documentElement;j.requestFullscreen&&j.requestFullscreen().catch(console.warn),t(`/test/${u._id}`)}})};return e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Assessment Zone"}),s.map(u=>e.jsxs("div",{className:"p-4 border rounded-lg shadow bg-white flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-blue-700",children:u.title}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Level: ",u.testLevel," â€¢ Questions: ",u.totalQuestions]})]}),u.attempted===0&&e.jsx("button",{onClick:()=>b(u),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Start Test"}),u.attempted===-1&&u.iqtest?.status===-1&&e.jsx("button",{onClick:()=>{const v=document.documentElement;v.requestFullscreen&&v.requestFullscreen().catch(console.warn),t(`/test/${u._id}`)},className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:"Resume Test"}),u.attempted===1&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{g(u),l(!0)},className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"View Result"}),e.jsx("button",{onClick:()=>{g(u),r(!0)},className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"View QP"})]})]},u._id)),a&&d&&e.jsx(ke,{isOpen:a,onClose:()=>l(!1),result:{totalQuestions:d.iqtest.totalQuestions,correct:d.iqtest.correctAnswers,wrong:d.iqtest.wrongAnswers,totalMarks:d.iqtest.totalMarks,marks:d.iqtest.marksGained,passingMarks:d.iqtest.passingMarks}}),o&&e.jsx(qe,{test:d,onClose:()=>r(!1)})]})},Ge=({batch:s,studentId:t,baseurl:a})=>{const[l,o]=p.useState(null),r=s?.tests||[];return l?e.jsx(Ce,{testID:l,studentId:t,baseurl:a,onBack:()=>o(null)}):e.jsx(ze,{tests:r,onSelectTest:d=>o(d._id)})},Ye=({batch:s})=>{const t=Z(),a=O(),l=p.useMemo(()=>s?.lectures?.map(r=>({...r,chapterTitle:r.chapter||"N/A",weekTitle:r.week||"N/A"}))||[],[s]);p.useEffect(()=>{s&&(t(Fe({batchId:s._id,batchName:s.batchName})),t(Se(l)))},[s,l,t]);const o=r=>{t(Te(r)),r.type==="youtube"?window.open(r.contentUrl,"_blank"):a(`/batch/${s._id}/video/${r._id}`)};return s?e.jsxs("div",{className:"bg-white rounded-lg",children:[e.jsx("div",{className:"p-4 border-b bg-gradient-to-r from-blue-50 to-purple-50",children:e.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[e.jsx("div",{className:"p-3 bg-gradient-to-r from-red-500 to-pink-600 rounded-xl text-white shadow-lg",children:e.jsx(E,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-2xl font-bold text-gray-900",children:"Video Lectures"}),e.jsxs("p",{className:"text-gray-600 mt-1 text-lg",children:[l.length," lectures from expert instructors"]})]})]})}),e.jsx("div",{className:"p-4",children:l.length>0?e.jsx("div",{className:"grid gap-6",children:l.map(r=>e.jsxs("div",{className:"border-2 border-gray-100 rounded-2xl overflow-hidden hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 bg-white group cursor-pointer",onClick:()=>o(r),children:[e.jsx("div",{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-pink-600 rounded-xl flex items-center justify-center text-white shadow-lg group-hover:scale-110 transition-transform duration-300",children:e.jsx(ae,{className:"w-5 h-5"})}),e.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white rounded-full p-1 shadow-lg",children:e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx(E,{className:"w-2 h-2 text-white"})})})]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-2",children:r.title}),e.jsx(X,{className:"w-4 h-4 text-gray-400 group-hover:text-blue-500 transition-colors flex-shrink-0 ml-2 mt-1"})]}),r.description&&e.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2",children:r.description})]})]})}),e.jsx("div",{className:"h-1 bg-gradient-to-r from-transparent via-blue-500 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]},r._id))}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-gray-200 to-gray-300 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(E,{className:"w-10 h-10 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No Video Lectures Available"}),e.jsx("p",{className:"text-gray-500 max-w-md mx-auto",children:"Video lectures will be added to this batch soon."})]})})]}):e.jsx("p",{className:"p-6 text-gray-500",children:"Loading batch videos..."})},He=()=>{const{courseId:s}=se(),[t,a]=p.useState(null),[l,o]=p.useState(!0),[r,d]=p.useState(""),[g,b]=p.useState({}),[u,v]=p.useState(0),[j,y]=$e(),h=j.get("batchId"),[n,i]=p.useState(null),[c,N]=p.useState(!1),w=m=>m?.toLowerCase().replace(/\s+/g,"")||"overview",[x,T]=p.useState(w(j.get("activeTab"))),$=m=>{const f=Object.fromEntries([...j]),k=w(m);f.activeTab=k,T(k),y(f)};p.useEffect(()=>{if(!s)return;(async()=>{try{const f=await Ee(s);a(f),d(""),R(f)}catch(f){d(f.message||`Failed to load ${F} content.`),a(null)}finally{o(!1)}})()},[s]);const _=t?.batches?.find(m=>m._id===h);p.useEffect(()=>{if(!h)return;(async()=>{try{const f=await _e(h);i(f)}catch(f){console.error("Failed to fetch batch:",f),i(null)}})()},[h]);const S=Array.isArray(n?.cloudLabs?.students)&&n.cloudLabs.students.length>0,R=m=>{const f=m.phases?.reduce((k,P)=>k+P.weeks.reduce((V,J)=>V+J.chapters.reduce((q,H)=>q+(H.lectures?.length||0)+(H.assignments?.length||0),0),0),0)||0;v(f>0?25:0)},A=m=>m?.lectures?m.lectures.length:0,B=m=>m?.assignments?m.assignments.length:0,ne=m=>m?.notes?m.notes.length:0,ie=m=>m?.feedbacks?m.feedbacks.length:0,oe=m=>m?.learningOutcomes?m.learningOutcomes.length:0,de=(m,f)=>{const k=`${m}-${f}`;b(P=>({...P,[k]:!P[k]}))},C=({name:m,icon:f,isActive:k,count:P,color:V="blue"})=>{const q={blue:{active:"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-lg",inactive:"text-gray-700 hover:bg-blue-50 border-blue-200",count:"bg-blue-100 text-blue-600"},green:{active:"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-lg",inactive:"text-gray-700 hover:bg-green-50 border-green-200",count:"bg-green-100 text-green-600"},purple:{active:"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-lg",inactive:"text-gray-700 hover:bg-purple-50 border-purple-200",count:"bg-purple-100 text-purple-600"},orange:{active:"bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg",inactive:"text-gray-700 hover:bg-orange-50 border-orange-200",count:"bg-orange-100 text-orange-600"}}[V];return e.jsxs("button",{onClick:()=>$(m.toLowerCase()),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-300 transform hover:scale-105 ${k?`${q.active} shadow-lg`:`${q.inactive} border hover:shadow-md`}`,children:[e.jsx("div",{className:`p-2 rounded-lg ${k?"bg-white/20":"bg-gray-100"}`,children:f}),e.jsx("span",{className:"font-semibold flex-1 text-left",children:m}),P>0&&e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${k?"bg-white/20 text-white":q.count}`,children:P})]})};return l?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-500 border-t-transparent mx-auto mb-4"}),e.jsxs("p",{className:"text-lg font-medium text-gray-600 animate-pulse",children:["Loading ",F," content..."]})]})}):r||!t?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center p-8 bg-white rounded-2xl shadow-xl max-w-md border",children:[e.jsx("div",{className:"w-20 h-20 bg-red-100 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4 animate-bounce",children:e.jsx(L,{className:"w-8 h-8"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-3",children:r?`Error Loading ${F}`:`${F} Not Found`}),e.jsx("p",{className:"text-gray-600 mb-6",children:r||`The requested ${F} could not be found.`})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-white/95 backdrop-blur-lg shadow-lg border-b",children:e.jsx("div",{className:"max-w-8xl mx-auto px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(Ae,{to:"/student/dashboard",className:"text-blue-600 hover:text-blue-800 text-sm font-semibold flex items-center gap-2 transition-all duration-300 hover:gap-3",children:[e.jsx(Pe,{className:"w-4 h-4"}),"Back to ",F]}),e.jsx("div",{className:"hidden sm:block h-6 w-px bg-gradient-to-b from-gray-300 to-transparent"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl text-white",children:e.jsx(L,{className:"w-6 h-6"})}),e.jsxs("h1",{className:"text-2xl font-bold text-gray-800 bg-gradient-to-r from-gray-800 to-gray-600 bg-clip-text",children:[t.title,_&&e.jsxs("span",{className:"text-gray-800 text-lg font-bold ml-3",children:["â€” ",_.batchName]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4 sm:gap-6 text-sm font-semibold relative",children:[e.jsxs("div",{className:"relative w-full sm:w-auto",children:[e.jsxs("button",{onClick:()=>N(m=>!m),className:"w-full sm:w-auto flex items-center justify-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg font-semibold hover:bg-blue-100 transition-all shadow-sm hover:shadow-md",children:[e.jsx(ee,{className:"w-4 h-4"}),"View Sessions & Attendance"]}),c&&e.jsx(Re,{batch:n,onClose:()=>N(!1)})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-yellow-50 text-yellow-700 rounded-full shadow-sm",children:[e.jsx(Y,{className:"w-4 h-4"}),e.jsxs("span",{children:[t.rating," Rating"]})]})]})]})})}),e.jsxs("div",{className:"max-w-8xl mx-auto px-6 py-8 flex flex-col lg:flex-row gap-8",children:[e.jsx("aside",{className:"lg:w-72 flex-shrink-0",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border p-6 sticky top-28 space-y-6 backdrop-blur-sm",children:[e.jsxs("nav",{className:"space-y-3",children:[e.jsx(C,{name:"Overview",icon:e.jsx(Le,{className:"w-4 h-4"}),isActive:x==="overview",count:0,color:"blue"}),S&&e.jsx(C,{name:"Cloud Lab",icon:e.jsx(E,{className:"w-4 h-4"}),isActive:x==="cloudlab",color:"blue"}),e.jsx(C,{name:"Outcomes",icon:e.jsx(z,{className:"w-4 h-4"}),isActive:x==="outcomes",count:oe(t),color:"green"}),e.jsx(C,{name:"Curriculum",icon:e.jsx(L,{className:"w-4 h-4"}),isActive:x==="curriculum",color:"purple"}),e.jsx(C,{name:"Prerequisites",icon:e.jsx(L,{className:"w-4 h-4"}),isActive:x==="prerequisites",count:n?.prerequisites?.length||0,color:"purple"}),e.jsx(C,{name:"Assignments",icon:e.jsx(U,{className:"w-4 h-4"}),isActive:x==="assignments",count:B(n),color:"orange"}),e.jsx(C,{name:"Assessment",icon:e.jsx(U,{className:"w-4 h-4"}),isActive:x==="assessment",count:n?.tests?.length||0,color:"orange"}),e.jsx(C,{name:"Recording",icon:e.jsx(E,{className:"w-4 h-4"}),isActive:x==="recording",count:A(n),color:"green"}),e.jsx(C,{name:"Notes",icon:e.jsx(M,{className:"w-4 h-4"}),isActive:x==="notes",count:ne(n),color:"blue"}),e.jsx(C,{name:"Feedback",icon:e.jsx(E,{className:"w-4 h-4"}),isActive:x==="feedback",count:ie(n),color:"green"})]}),e.jsxs("div",{className:"pt-6 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-700",children:"Your Progress"}),e.jsxs("div",{className:"text-sm font-bold text-blue-600",children:[u,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden shadow-inner",children:e.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-500 h-full rounded-full transition-all duration-1000 ease-out shadow-lg",style:{width:`${u}%`}})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[e.jsx("span",{children:"Start Learning"}),e.jsx("span",{children:"Complete"})]})]})]})}),e.jsx("main",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden min-h-[70vh]",children:[x==="overview"&&e.jsx(We,{course:t,setActiveTab:$}),x==="cloudlab"&&S&&e.jsx(De,{cloudLabs:n.cloudLabs}),x==="curriculum"&&e.jsx(Me,{course:t,expandedWeeks:g,toggleWeek:de}),x==="notes"&&e.jsx(Be,{batch:n}),x==="prerequisites"&&e.jsx(Ue,{batch:n}),x==="recording"&&e.jsx(Ye,{batch:n}),x==="assessment"&&e.jsx(Ge,{batch:n}),x==="assignments"&&e.jsx(Ie,{batch:n}),x==="feedback"&&e.jsx(Oe,{batch:n}),x==="outcomes"&&e.jsx(Ve,{course:t})]})})]})]})};export{He as default};
